var app=function(t){"use strict";function n(){}function e(t){return t()}function r(){return Object.create(null)}function i(t){t.forEach(e)}function o(t){return"function"==typeof t}function u(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function a(t,n){t.appendChild(n)}function c(t,n,e){t.insertBefore(n,e||null)}function l(t){t.parentNode.removeChild(t)}function s(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}function f(t){return document.createElement(t)}function h(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function p(t){return document.createTextNode(t)}function d(){return p(" ")}function v(){return p("")}function g(t,n,e,r){return t.addEventListener(n,e,r),()=>t.removeEventListener(n,e,r)}function m(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function y(t,n){n=""+n,t.data!==n&&(t.data=n)}function w(t,n,e,r){t.style.setProperty(n,e,r?"important":"")}function b(t,n,e){t.classList[e?"add":"remove"](n)}let _;function x(t){_=t}function M(t){(function(){if(!_)throw new Error("Function called outside component initialization");return _})().$$.on_mount.push(t)}t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;const S=[],E=[],N=[],k=[],A=Promise.resolve();let C=!1;function $(t){N.push(t)}let T=!1;const P=new Set;function j(){if(!T){T=!0;do{for(let t=0;t<S.length;t+=1){const n=S[t];x(n),q(n.$$)}for(S.length=0;E.length;)E.pop()();for(let t=0;t<N.length;t+=1){const n=N[t];P.has(n)||(P.add(n),n())}N.length=0}while(S.length);for(;k.length;)k.pop()();C=!1,T=!1,P.clear()}}function q(t){if(null!==t.fragment){t.update(),i(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach($)}}const R=new Set;let D;function L(t,n){t&&t.i&&(R.delete(t),t.i(n))}function I(t,n,e,r){if(t&&t.o){if(R.has(t))return;R.add(t),D.c.push(()=>{R.delete(t),r&&(e&&t.d(1),r())}),t.o(n)}}function O(t){t&&t.c()}function z(t,n,r){const{fragment:u,on_mount:a,on_destroy:c,after_update:l}=t.$$;u&&u.m(n,r),$(()=>{const n=a.map(e).filter(o);c?c.push(...n):i(n),t.$$.on_mount=[]}),l.forEach($)}function B(t,n){const e=t.$$;null!==e.fragment&&(i(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function U(t,n){-1===t.$$.dirty[0]&&(S.push(t),C||(C=!0,A.then(j)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function F(t,e,o,u,a,c,l=[-1]){const s=_;x(t);const f=e.props||{},h=t.$$={fragment:null,ctx:null,props:c,update:n,not_equal:a,bound:r(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(s?s.$$.context:[]),callbacks:r(),dirty:l};let p=!1;h.ctx=o?o(t,f,(n,e,...r)=>{const i=r.length?r[0]:e;return h.ctx&&a(h.ctx[n],h.ctx[n]=i)&&(h.bound[n]&&h.bound[n](i),p&&U(t,n)),e}):[],h.update(),p=!0,i(h.before_update),h.fragment=!!u&&u(h.ctx),e.target&&(e.hydrate?h.fragment&&h.fragment.l(function(t){return Array.from(t.childNodes)}(e.target)):h.fragment&&h.fragment.c(),e.intro&&L(t.$$.fragment),z(t,e.target,e.anchor),j()),x(s)}class H{$destroy(){B(this,1),this.$destroy=n}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(){}}function V(t){return t}function X(t,n){var e=n.id,r=n.bbox,i=null==n.properties?{}:n.properties,o=function(t,n){var e=function(t){if(null==t)return V;var n,e,r=t.scale[0],i=t.scale[1],o=t.translate[0],u=t.translate[1];return function(t,a){a||(n=e=0);var c=2,l=t.length,s=new Array(l);for(s[0]=(n+=t[0])*r+o,s[1]=(e+=t[1])*i+u;c<l;)s[c]=t[c],++c;return s}}(t.transform),r=t.arcs;function i(t,n){n.length&&n.pop();for(var i=r[t<0?~t:t],o=0,u=i.length;o<u;++o)n.push(e(i[o],o));t<0&&function(t,n){for(var e,r=t.length,i=r-n;i<--r;)e=t[i],t[i++]=t[r],t[r]=e}(n,u)}function o(t){return e(t)}function u(t){for(var n=[],e=0,r=t.length;e<r;++e)i(t[e],n);return n.length<2&&n.push(n[0]),n}function a(t){for(var n=u(t);n.length<4;)n.push(n[0]);return n}function c(t){return t.map(a)}return function t(n){var e,r=n.type;switch(r){case"GeometryCollection":return{type:r,geometries:n.geometries.map(t)};case"Point":e=o(n.coordinates);break;case"MultiPoint":e=n.coordinates.map(o);break;case"LineString":e=u(n.arcs);break;case"MultiLineString":e=n.arcs.map(u);break;case"Polygon":e=c(n.arcs);break;case"MultiPolygon":e=n.arcs.map(c);break;default:return null}return{type:r,coordinates:e}}(n)}(t,n);return null==e&&null==r?{type:"Feature",properties:i,geometry:o}:null==r?{type:"Feature",id:e,properties:i,geometry:o}:{type:"Feature",id:e,bbox:r,properties:i,geometry:o}}var G={value:function(){}};function Y(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new W(r)}function W(t){this._=t}function Z(t,n){return t.trim().split(/^|\s+/).map((function(t){var e="",r=t.indexOf(".");if(r>=0&&(e=t.slice(r+1),t=t.slice(0,r)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))}function J(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function K(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=G,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}W.prototype=Y.prototype={constructor:W,on:function(t,n){var e,r=this._,i=Z(t+"",r),o=-1,u=i.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++o<u;)if(e=(t=i[o]).type)r[e]=K(r[e],t.name,n);else if(null==n)for(e in r)r[e]=K(r[e],t.name,null);return this}for(;++o<u;)if((e=(t=i[o]).type)&&(e=J(r[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new W(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,i=new Array(e),o=0;o<e;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,e=(r=this._[t]).length;o<e;++o)r[o].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};var Q="http://www.w3.org/1999/xhtml",tt={svg:"http://www.w3.org/2000/svg",xhtml:Q,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function nt(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),tt.hasOwnProperty(n)?{space:tt[n],local:t}:t}function et(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===Q&&n.documentElement.namespaceURI===Q?n.createElement(t):n.createElementNS(e,t)}}function rt(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function it(t){var n=nt(t);return(n.local?rt:et)(n)}function ot(){}function ut(t){return null==t?ot:function(){return this.querySelector(t)}}function at(){return[]}function ct(t){return new Array(t.length)}function lt(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}lt.prototype={constructor:lt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function st(t,n,e,r,i,o){for(var u,a=0,c=n.length,l=o.length;a<l;++a)(u=n[a])?(u.__data__=o[a],r[a]=u):e[a]=new lt(t,o[a]);for(;a<c;++a)(u=n[a])&&(i[a]=u)}function ft(t,n,e,r,i,o,u){var a,c,l,s={},f=n.length,h=o.length,p=new Array(f);for(a=0;a<f;++a)(c=n[a])&&(p[a]=l="$"+u.call(c,c.__data__,a,n),l in s?i[a]=c:s[l]=c);for(a=0;a<h;++a)(c=s[l="$"+u.call(t,o[a],a,o)])?(r[a]=c,c.__data__=o[a],s[l]=null):e[a]=new lt(t,o[a]);for(a=0;a<f;++a)(c=n[a])&&s[p[a]]===c&&(i[a]=c)}function ht(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function pt(t){return function(){this.removeAttribute(t)}}function dt(t){return function(){this.removeAttributeNS(t.space,t.local)}}function vt(t,n){return function(){this.setAttribute(t,n)}}function gt(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function mt(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function yt(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function wt(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function bt(t){return function(){this.style.removeProperty(t)}}function _t(t,n,e){return function(){this.style.setProperty(t,n,e)}}function xt(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function Mt(t,n){return t.style.getPropertyValue(n)||wt(t).getComputedStyle(t,null).getPropertyValue(n)}function St(t){return function(){delete this[t]}}function Et(t,n){return function(){this[t]=n}}function Nt(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function kt(t){return t.trim().split(/^|\s+/)}function At(t){return t.classList||new Ct(t)}function Ct(t){this._node=t,this._names=kt(t.getAttribute("class")||"")}function $t(t,n){for(var e=At(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function Tt(t,n){for(var e=At(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function Pt(t){return function(){$t(this,t)}}function jt(t){return function(){Tt(this,t)}}function qt(t,n){return function(){(n.apply(this,arguments)?$t:Tt)(this,t)}}function Rt(){this.textContent=""}function Dt(t){return function(){this.textContent=t}}function Lt(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function It(){this.innerHTML=""}function Ot(t){return function(){this.innerHTML=t}}function zt(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function Bt(){this.nextSibling&&this.parentNode.appendChild(this)}function Ut(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ft(){return null}function Ht(){var t=this.parentNode;t&&t.removeChild(this)}function Vt(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Xt(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}Ct.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Gt={},Yt=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(Gt={mouseenter:"mouseover",mouseleave:"mouseout"}));function Wt(t,n,e){return t=Zt(t,n,e),function(n){var e=n.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||t.call(this,n)}}function Zt(t,n,e){return function(r){var i=Yt;Yt=r;try{t.call(this,this.__data__,n,e)}finally{Yt=i}}}function Jt(t){return t.trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}}))}function Kt(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,o=n.length;r<o;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.capture);++i?n.length=i:delete this.__on}}}function Qt(t,n,e){var r=Gt.hasOwnProperty(t.type)?Wt:Zt;return function(i,o,u){var a,c=this.__on,l=r(n,o,u);if(c)for(var s=0,f=c.length;s<f;++s)if((a=c[s]).type===t.type&&a.name===t.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=l,a.capture=e),void(a.value=n);this.addEventListener(t.type,l,e),a={type:t.type,name:t.name,value:n,listener:l,capture:e},c?c.push(a):this.__on=[a]}}function tn(t,n,e,r){var i=Yt;t.sourceEvent=Yt,Yt=t;try{return n.apply(e,r)}finally{Yt=i}}function nn(t,n,e){var r=wt(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function en(t,n){return function(){return nn(this,t,n)}}function rn(t,n){return function(){return nn(this,t,n.apply(this,arguments))}}var on=[null];function un(t,n){this._groups=t,this._parents=n}function an(t){return"string"==typeof t?new un([[document.querySelector(t)]],[document.documentElement]):new un([[t]],on)}function cn(){for(var t,n=Yt;t=n.sourceEvent;)n=t;return n}function ln(t,n){var e=t.ownerSVGElement||t;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=n.clientX,r.y=n.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[n.clientX-i.left-t.clientLeft,n.clientY-i.top-t.clientTop]}function sn(t){var n=cn();return n.changedTouches&&(n=n.changedTouches[0]),ln(t,n)}function fn(t,n,e){arguments.length<3&&(e=n,n=cn().changedTouches);for(var r,i=0,o=n?n.length:0;i<o;++i)if((r=n[i]).identifier===e)return ln(t,r);return null}function hn(){Yt.stopImmediatePropagation()}function pn(){Yt.preventDefault(),Yt.stopImmediatePropagation()}function dn(t){var n=t.document.documentElement,e=an(t).on("dragstart.drag",pn,!0);"onselectstart"in n?e.on("selectstart.drag",pn,!0):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function vn(t){return function(){return t}}function gn(t,n,e,r,i,o,u,a,c,l){this.target=t,this.type=n,this.subject=e,this.identifier=r,this.active=i,this.x=o,this.y=u,this.dx=a,this.dy=c,this._=l}function mn(){return!Yt.ctrlKey&&!Yt.button}function yn(){return this.parentNode}function wn(t){return null==t?{x:Yt.x,y:Yt.y}:t}function bn(){return navigator.maxTouchPoints||"ontouchstart"in this}function _n(){var t,n,e,r,i=mn,o=yn,u=wn,a=bn,c={},l=Y("start","drag","end"),s=0,f=0;function h(t){t.on("mousedown.drag",p).filter(a).on("touchstart.drag",g).on("touchmove.drag",m).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(){if(!r&&i.apply(this,arguments)){var u=w("mouse",o.apply(this,arguments),sn,this,arguments);u&&(an(Yt.view).on("mousemove.drag",d,!0).on("mouseup.drag",v,!0),dn(Yt.view),hn(),e=!1,t=Yt.clientX,n=Yt.clientY,u("start"))}}function d(){if(pn(),!e){var r=Yt.clientX-t,i=Yt.clientY-n;e=r*r+i*i>f}c.mouse("drag")}function v(){an(Yt.view).on("mousemove.drag mouseup.drag",null),function(t,n){var e=t.document.documentElement,r=an(t).on("dragstart.drag",null);n&&(r.on("click.drag",pn,!0),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in e?r.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}(Yt.view,e),pn(),c.mouse("end")}function g(){if(i.apply(this,arguments)){var t,n,e=Yt.changedTouches,r=o.apply(this,arguments),u=e.length;for(t=0;t<u;++t)(n=w(e[t].identifier,r,fn,this,arguments))&&(hn(),n("start"))}}function m(){var t,n,e=Yt.changedTouches,r=e.length;for(t=0;t<r;++t)(n=c[e[t].identifier])&&(pn(),n("drag"))}function y(){var t,n,e=Yt.changedTouches,i=e.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),t=0;t<i;++t)(n=c[e[t].identifier])&&(hn(),n("end"))}function w(t,n,e,r,i){var o,a,f,p=e(n,t),d=l.copy();if(tn(new gn(h,"beforestart",o,t,s,p[0],p[1],0,0,d),(function(){return null!=(Yt.subject=o=u.apply(r,i))&&(a=o.x-p[0]||0,f=o.y-p[1]||0,!0)})))return function u(l){var v,g=p;switch(l){case"start":c[t]=u,v=s++;break;case"end":delete c[t],--s;case"drag":p=e(n,t),v=s}tn(new gn(h,l,o,t,v,p[0]+a,p[1]+f,p[0]-g[0],p[1]-g[1],d),d.apply,d,[l,r,i])}}return h.filter=function(t){return arguments.length?(i="function"==typeof t?t:vn(!!t),h):i},h.container=function(t){return arguments.length?(o="function"==typeof t?t:vn(t),h):o},h.subject=function(t){return arguments.length?(u="function"==typeof t?t:vn(t),h):u},h.touchable=function(t){return arguments.length?(a="function"==typeof t?t:vn(!!t),h):a},h.on=function(){var t=l.on.apply(l,arguments);return t===l?h:t},h.clickDistance=function(t){return arguments.length?(f=(t=+t)*t,h):Math.sqrt(f)},h}function xn(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}un.prototype=function(){return new un([[document.documentElement]],on)}.prototype={constructor:un,select:function(t){"function"!=typeof t&&(t=ut(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,u,a=n[i],c=a.length,l=r[i]=new Array(c),s=0;s<c;++s)(o=a[s])&&(u=t.call(o,o.__data__,s,a))&&("__data__"in o&&(u.__data__=o.__data__),l[s]=u);return new un(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=function(t){return null==t?at:function(){return this.querySelectorAll(t)}}(t));for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var u,a=n[o],c=a.length,l=0;l<c;++l)(u=a[l])&&(r.push(t.call(u,u.__data__,l,a)),i.push(u));return new un(r,i)},filter:function(t){"function"!=typeof t&&(t=function(t){return function(){return this.matches(t)}}(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,u=n[i],a=u.length,c=r[i]=[],l=0;l<a;++l)(o=u[l])&&t.call(o,o.__data__,l,u)&&c.push(o);return new un(r,this._parents)},data:function(t,n){if(!t)return d=new Array(this.size()),s=-1,this.each((function(t){d[++s]=t})),d;var e,r=n?ft:st,i=this._parents,o=this._groups;"function"!=typeof t&&(e=t,t=function(){return e});for(var u=o.length,a=new Array(u),c=new Array(u),l=new Array(u),s=0;s<u;++s){var f=i[s],h=o[s],p=h.length,d=t.call(f,f&&f.__data__,s,i),v=d.length,g=c[s]=new Array(v),m=a[s]=new Array(v);r(f,h,g,m,l[s]=new Array(p),d,n);for(var y,w,b=0,_=0;b<v;++b)if(y=g[b]){for(b>=_&&(_=b+1);!(w=m[_])&&++_<v;);y._next=w||null}}return(a=new un(a,i))._enter=c,a._exit=l,a},enter:function(){return new un(this._enter||this._groups.map(ct),this._parents)},exit:function(){return new un(this._exit||this._groups.map(ct),this._parents)},join:function(t,n,e){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=n&&(i=n(i)),null==e?o.remove():e(o),r&&i?r.merge(i).order():i},merge:function(t){for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),u=new Array(r),a=0;a<o;++a)for(var c,l=n[a],s=e[a],f=l.length,h=u[a]=new Array(f),p=0;p<f;++p)(c=l[p]||s[p])&&(h[p]=c);for(;a<r;++a)u[a]=n[a];return new un(u,this._parents)},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,u=i[o];--o>=0;)(r=i[o])&&(u&&4^r.compareDocumentPosition(u)&&u.parentNode.insertBefore(r,u),u=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=ht);for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var u,a=e[o],c=a.length,l=i[o]=new Array(c),s=0;s<c;++s)(u=a[s])&&(l[s]=u);l.sort(n)}return new un(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),n=-1;return this.each((function(){t[++n]=this})),t},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var u=r[i];if(u)return u}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],u=0,a=o.length;u<a;++u)(i=o[u])&&t.call(i,i.__data__,u,o);return this},attr:function(t,n){var e=nt(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?dt:pt:"function"==typeof n?e.local?yt:mt:e.local?gt:vt)(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?bt:"function"==typeof n?xt:_t)(t,n,null==e?"":e)):Mt(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?St:"function"==typeof n?Nt:Et)(t,n)):this.node()[t]},classed:function(t,n){var e=kt(t+"");if(arguments.length<2){for(var r=At(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?qt:n?Pt:jt)(e,n))},text:function(t){return arguments.length?this.each(null==t?Rt:("function"==typeof t?Lt:Dt)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?It:("function"==typeof t?zt:Ot)(t)):this.node().innerHTML},raise:function(){return this.each(Bt)},lower:function(){return this.each(Ut)},append:function(t){var n="function"==typeof t?t:it(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))},insert:function(t,n){var e="function"==typeof t?t:it(t),r=null==n?Ft:"function"==typeof n?n:ut(n);return this.select((function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(Ht)},clone:function(t){return this.select(t?Xt:Vt)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,o=Jt(t+""),u=o.length;if(!(arguments.length<2)){for(a=n?Qt:Kt,null==e&&(e=!1),r=0;r<u;++r)this.each(a(o[r],n,e));return this}var a=this.node().__on;if(a)for(var c,l=0,s=a.length;l<s;++l)for(r=0,c=a[l];r<u;++r)if((i=o[r]).type===c.type&&i.name===c.name)return c.value},dispatch:function(t,n){return this.each(("function"==typeof n?rn:en)(t,n))}},gn.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var Mn,Sn,En=(1===(Mn=xn).length&&(Sn=Mn,Mn=function(t,n){return xn(Sn(t),n)}),{left:function(t,n,e,r){for(null==e&&(e=0),null==r&&(r=t.length);e<r;){var i=e+r>>>1;Mn(t[i],n)<0?e=i+1:r=i}return e},right:function(t,n,e,r){for(null==e&&(e=0),null==r&&(r=t.length);e<r;){var i=e+r>>>1;Mn(t[i],n)>0?r=i:e=i+1}return e}}).right;function Nn(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=0|Math.max(0,Math.ceil((n-t)/e)),o=new Array(i);++r<i;)o[r]=t+r*e;return o}var kn=Math.sqrt(50),An=Math.sqrt(10),Cn=Math.sqrt(2);function $n(t,n,e){var r=(n-t)/Math.max(0,e),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=kn?10:o>=An?5:o>=Cn?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=kn?10:o>=An?5:o>=Cn?2:1)}function Tn(t){for(var n,e,r,i=t.length,o=-1,u=0;++o<i;)u+=t[o].length;for(e=new Array(u);--i>=0;)for(n=(r=t[i]).length;--n>=0;)e[--u]=r[n];return e}function Pn(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t)}return this}function jn(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function qn(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function Rn(){}var Dn="\\s*([+-]?\\d+)\\s*",Ln="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",In="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",On=/^#([0-9a-f]{3,8})$/,zn=new RegExp("^rgb\\("+[Dn,Dn,Dn]+"\\)$"),Bn=new RegExp("^rgb\\("+[In,In,In]+"\\)$"),Un=new RegExp("^rgba\\("+[Dn,Dn,Dn,Ln]+"\\)$"),Fn=new RegExp("^rgba\\("+[In,In,In,Ln]+"\\)$"),Hn=new RegExp("^hsl\\("+[Ln,In,In]+"\\)$"),Vn=new RegExp("^hsla\\("+[Ln,In,In,Ln]+"\\)$"),Xn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Gn(){return this.rgb().formatHex()}function Yn(){return this.rgb().formatRgb()}function Wn(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=On.exec(t))?(e=n[1].length,n=parseInt(n[1],16),6===e?Zn(n):3===e?new te(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===e?new te(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===e?new te(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=zn.exec(t))?new te(n[1],n[2],n[3],1):(n=Bn.exec(t))?new te(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=Un.exec(t))?Jn(n[1],n[2],n[3],n[4]):(n=Fn.exec(t))?Jn(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=Hn.exec(t))?ie(n[1],n[2]/100,n[3]/100,1):(n=Vn.exec(t))?ie(n[1],n[2]/100,n[3]/100,n[4]):Xn.hasOwnProperty(t)?Zn(Xn[t]):"transparent"===t?new te(NaN,NaN,NaN,0):null}function Zn(t){return new te(t>>16&255,t>>8&255,255&t,1)}function Jn(t,n,e,r){return r<=0&&(t=n=e=NaN),new te(t,n,e,r)}function Kn(t){return t instanceof Rn||(t=Wn(t)),t?new te((t=t.rgb()).r,t.g,t.b,t.opacity):new te}function Qn(t,n,e,r){return 1===arguments.length?Kn(t):new te(t,n,e,null==r?1:r)}function te(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function ne(){return"#"+re(this.r)+re(this.g)+re(this.b)}function ee(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function re(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function ie(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new ue(t,n,e,r)}function oe(t){if(t instanceof ue)return new ue(t.h,t.s,t.l,t.opacity);if(t instanceof Rn||(t=Wn(t)),!t)return new ue;if(t instanceof ue)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),u=NaN,a=o-i,c=(o+i)/2;return a?(u=n===o?(e-r)/a+6*(e<r):e===o?(r-n)/a+2:(n-e)/a+4,a/=c<.5?o+i:2-o-i,u*=60):a=c>0&&c<1?0:u,new ue(u,a,c,t.opacity)}function ue(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function ae(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}function ce(t){return function(){return t}}function le(t){return 1==(t=+t)?se:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}(n,e,t):ce(isNaN(n)?e:n)}}function se(t,n){var e=n-t;return e?function(t,n){return function(e){return t+e*n}}(t,e):ce(isNaN(t)?n:t)}jn(Rn,Wn,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Gn,formatHex:Gn,formatHsl:function(){return oe(this).formatHsl()},formatRgb:Yn,toString:Yn}),jn(te,Qn,qn(Rn,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new te(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new te(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ne,formatHex:ne,formatRgb:ee,toString:ee})),jn(ue,(function(t,n,e,r){return 1===arguments.length?oe(t):new ue(t,n,e,null==r?1:r)}),qn(Rn,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new ue(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new ue(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new te(ae(t>=240?t-240:t+120,i,r),ae(t,i,r),ae(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var fe=function t(n){var e=le(n);function r(t,n){var r=e((t=Qn(t)).r,(n=Qn(n)).r),i=e(t.g,n.g),o=e(t.b,n.b),u=se(t.opacity,n.opacity);return function(n){return t.r=r(n),t.g=i(n),t.b=o(n),t.opacity=u(n),t+""}}return r.gamma=t,r}(1);function he(t,n){n||(n=[]);var e,r=t?Math.min(n.length,t.length):0,i=n.slice();return function(o){for(e=0;e<r;++e)i[e]=t[e]*(1-o)+n[e]*o;return i}}function pe(t,n){var e,r=n?n.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),u=new Array(r);for(e=0;e<i;++e)o[e]=be(t[e],n[e]);for(;e<r;++e)u[e]=n[e];return function(t){for(e=0;e<i;++e)u[e]=o[e](t);return u}}function de(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}}function ve(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function ge(t,n){var e,r={},i={};for(e in null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={}),n)e in t?r[e]=be(t[e],n[e]):i[e]=n[e];return function(t){for(e in r)i[e]=r[e](t);return i}}var me=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ye=new RegExp(me.source,"g");function we(t,n){var e,r,i,o=me.lastIndex=ye.lastIndex=0,u=-1,a=[],c=[];for(t+="",n+="";(e=me.exec(t))&&(r=ye.exec(n));)(i=r.index)>o&&(i=n.slice(o,i),a[u]?a[u]+=i:a[++u]=i),(e=e[0])===(r=r[0])?a[u]?a[u]+=r:a[++u]=r:(a[++u]=null,c.push({i:u,x:ve(e,r)})),o=ye.lastIndex;return o<n.length&&(i=n.slice(o),a[u]?a[u]+=i:a[++u]=i),a.length<2?c[0]?function(t){return function(n){return t(n)+""}}(c[0].x):function(t){return function(){return t}}(n):(n=c.length,function(t){for(var e,r=0;r<n;++r)a[(e=c[r]).i]=e.x(t);return a.join("")})}function be(t,n){var e,r,i=typeof n;return null==n||"boolean"===i?ce(n):("number"===i?ve:"string"===i?(e=Wn(n))?(n=e,fe):we:n instanceof Wn?fe:n instanceof Date?de:(r=n,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(n)?pe:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?ge:ve:he))(t,n)}function _e(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}function xe(t){return+t}var Me=[0,1];function Se(t){return t}function Ee(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:(e=isNaN(n)?NaN:.5,function(){return e});var e}function Ne(t,n,e){var r=t[0],i=t[1],o=n[0],u=n[1];return i<r?(r=Ee(i,r),o=e(u,o)):(r=Ee(r,i),o=e(o,u)),function(t){return o(r(t))}}function ke(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),o=new Array(r),u=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++u<r;)i[u]=Ee(t[u],t[u+1]),o[u]=e(n[u],n[u+1]);return function(n){var e=En(t,n,1,r)-1;return o[e](i[e](n))}}function Ae(){var t,n,e,r,i,o,u=Me,a=Me,c=be,l=Se;function s(){var t,n,e,c=Math.min(u.length,a.length);return l!==Se&&(t=u[0],n=u[c-1],t>n&&(e=t,t=n,n=e),l=function(e){return Math.max(t,Math.min(n,e))}),r=c>2?ke:Ne,i=o=null,f}function f(n){return isNaN(n=+n)?e:(i||(i=r(u.map(t),a,c)))(t(l(n)))}return f.invert=function(e){return l(n((o||(o=r(a,u.map(t),ve)))(e)))},f.domain=function(t){return arguments.length?(u=Array.from(t,xe),s()):u.slice()},f.range=function(t){return arguments.length?(a=Array.from(t),s()):a.slice()},f.rangeRound=function(t){return a=Array.from(t),c=_e,s()},f.clamp=function(t){return arguments.length?(l=!!t||Se,s()):l!==Se},f.interpolate=function(t){return arguments.length?(c=t,s()):c},f.unknown=function(t){return arguments.length?(e=t,f):e},function(e,r){return t=e,n=r,s()}}function Ce(){return Ae()(Se,Se)}function $e(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function Te(t){return(t=$e(Math.abs(t)))?t[1]:NaN}var Pe,je=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function qe(t){if(!(n=je.exec(t)))throw new Error("invalid format: "+t);var n;return new Re({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}function Re(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function De(t,n){var e=$e(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}qe.prototype=Re.prototype,Re.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Le={"%":function(t,n){return(100*t).toFixed(n)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},g:function(t,n){return t.toPrecision(n)},o:function(t){return Math.round(t).toString(8)},p:function(t,n){return De(100*t,n)},r:De,s:function(t,n){var e=$e(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(Pe=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,u=r.length;return o===u?r:o>u?r+new Array(o-u+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+$e(t,Math.max(0,n+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function Ie(t){return t}var Oe,ze,Be,Ue=Array.prototype.map,Fe=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function He(t){var n,e,r=void 0===t.grouping||void 0===t.thousands?Ie:(n=Ue.call(t.grouping,Number),e=t.thousands+"",function(t,r){for(var i=t.length,o=[],u=0,a=n[0],c=0;i>0&&a>0&&(c+a+1>r&&(a=Math.max(1,r-c)),o.push(t.substring(i-=a,i+a)),!((c+=a+1)>r));)a=n[u=(u+1)%n.length];return o.reverse().join(e)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",u=void 0===t.decimal?".":t.decimal+"",a=void 0===t.numerals?Ie:function(t){return function(n){return n.replace(/[0-9]/g,(function(n){return t[+n]}))}}(Ue.call(t.numerals,String)),c=void 0===t.percent?"%":t.percent+"",l=void 0===t.minus?"-":t.minus+"",s=void 0===t.nan?"NaN":t.nan+"";function f(t){var n=(t=qe(t)).fill,e=t.align,f=t.sign,h=t.symbol,p=t.zero,d=t.width,v=t.comma,g=t.precision,m=t.trim,y=t.type;"n"===y?(v=!0,y="g"):Le[y]||(void 0===g&&(g=12),m=!0,y="g"),(p||"0"===n&&"="===e)&&(p=!0,n="0",e="=");var w="$"===h?i:"#"===h&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",b="$"===h?o:/[%p]/.test(y)?c:"",_=Le[y],x=/[defgprs%]/.test(y);function M(t){var i,o,c,h=w,M=b;if("c"===y)M=_(t)+M,t="";else{var S=(t=+t)<0;if(t=isNaN(t)?s:_(Math.abs(t),g),m&&(t=function(t){t:for(var n,e=t.length,r=1,i=-1;r<e;++r)switch(t[r]){case".":i=n=r;break;case"0":0===i&&(i=r),n=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(n+1):t}(t)),S&&0==+t&&(S=!1),h=(S?"("===f?f:l:"-"===f||"("===f?"":f)+h,M=("s"===y?Fe[8+Pe/3]:"")+M+(S&&"("===f?")":""),x)for(i=-1,o=t.length;++i<o;)if(48>(c=t.charCodeAt(i))||c>57){M=(46===c?u+t.slice(i+1):t.slice(i))+M,t=t.slice(0,i);break}}v&&!p&&(t=r(t,1/0));var E=h.length+t.length+M.length,N=E<d?new Array(d-E+1).join(n):"";switch(v&&p&&(t=r(N+t,N.length?d-M.length:1/0),N=""),e){case"<":t=h+t+M+N;break;case"=":t=h+N+t+M;break;case"^":t=N.slice(0,E=N.length>>1)+h+t+M+N.slice(E);break;default:t=N+h+t+M}return a(t)}return g=void 0===g?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),M.toString=function(){return t+""},M}return{format:f,formatPrefix:function(t,n){var e=f(((t=qe(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Te(n)/3))),i=Math.pow(10,-r),o=Fe[8+r/3];return function(t){return e(i*t)+o}}}}function Ve(t,n,e,r){var i,o=function(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=kn?i*=10:o>=An?i*=5:o>=Cn&&(i*=2),n<t?-i:i}(t,n,e);switch((r=qe(null==r?",f":r)).type){case"s":var u=Math.max(Math.abs(t),Math.abs(n));return null!=r.precision||isNaN(i=function(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Te(n)/3)))-Te(Math.abs(t)))}(o,u))||(r.precision=i),Be(r,u);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,Te(n)-Te(t))+1}(o,Math.max(Math.abs(t),Math.abs(n))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-Te(Math.abs(t)))}(o))||(r.precision=i-2*("%"===r.type))}return ze(r)}function Xe(t){var n=t.domain;return t.ticks=function(t){var e=n();return function(t,n,e){var r,i,o,u,a=-1;if(e=+e,(t=+t)===(n=+n)&&e>0)return[t];if((r=n<t)&&(i=t,t=n,n=i),0===(u=$n(t,n,e))||!isFinite(u))return[];if(u>0)for(t=Math.ceil(t/u),n=Math.floor(n/u),o=new Array(i=Math.ceil(n-t+1));++a<i;)o[a]=(t+a)*u;else for(t=Math.floor(t*u),n=Math.ceil(n*u),o=new Array(i=Math.ceil(t-n+1));++a<i;)o[a]=(t-a)/u;return r&&o.reverse(),o}(e[0],e[e.length-1],null==t?10:t)},t.tickFormat=function(t,e){var r=n();return Ve(r[0],r[r.length-1],null==t?10:t,e)},t.nice=function(e){null==e&&(e=10);var r,i=n(),o=0,u=i.length-1,a=i[o],c=i[u];return c<a&&(r=a,a=c,c=r,r=o,o=u,u=r),(r=$n(a,c,e))>0?r=$n(a=Math.floor(a/r)*r,c=Math.ceil(c/r)*r,e):r<0&&(r=$n(a=Math.ceil(a*r)/r,c=Math.floor(c*r)/r,e)),r>0?(i[o]=Math.floor(a/r)*r,i[u]=Math.ceil(c/r)*r,n(i)):r<0&&(i[o]=Math.ceil(a*r)/r,i[u]=Math.floor(c*r)/r,n(i)),t},t}function Ge(t){return Math.sign(t)*t*t}function Ye(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function We(){return new Ze}function Ze(){this.reset()}Oe=He({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),ze=Oe.format,Be=Oe.formatPrefix,Ze.prototype={constructor:Ze,reset:function(){this.s=this.t=0},add:function(t){Ke(Je,t,this.t),Ke(this,Je.s,this.s),this.s?this.t+=Je.t:this.s=Je.t},valueOf:function(){return this.s}};var Je=new Ze;function Ke(t,n,e){var r=t.s=n+e,i=r-n,o=r-i;t.t=n-o+(e-i)}var Qe=Math.PI,tr=Qe/2,nr=Qe/4,er=2*Qe,rr=180/Qe,ir=Qe/180,or=Math.abs,ur=Math.atan,ar=Math.atan2,cr=Math.cos,lr=Math.ceil,sr=Math.sin,fr=Math.sign||function(t){return t>0?1:t<0?-1:0},hr=Math.sqrt;function pr(t){return t>1?tr:t<-1?-tr:Math.asin(t)}function dr(){}function vr(t,n){t&&mr.hasOwnProperty(t.type)&&mr[t.type](t,n)}var gr={Feature:function(t,n){vr(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)vr(e[r].geometry,n)}},mr={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){yr(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)yr(e[r],n,0)},Polygon:function(t,n){wr(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)wr(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)vr(e[r],n)}};function yr(t,n,e){var r,i=-1,o=t.length-e;for(n.lineStart();++i<o;)r=t[i],n.point(r[0],r[1],r[2]);n.lineEnd()}function wr(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)yr(t[e],n,1);n.polygonEnd()}function br(t,n){t&&gr.hasOwnProperty(t.type)?gr[t.type](t,n):vr(t,n)}function _r(t){return[ar(t[1],t[0]),pr(t[2])]}function xr(t){var n=t[0],e=t[1],r=cr(e);return[r*cr(n),r*sr(n),sr(e)]}function Mr(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function Sr(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function Er(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function Nr(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function kr(t){var n=hr(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}function Ar(t){return function(){return t}}function Cr(t,n){function e(e,r){return e=t(e,r),n(e[0],e[1])}return t.invert&&n.invert&&(e.invert=function(e,r){return(e=n.invert(e,r))&&t.invert(e[0],e[1])}),e}function $r(t,n){return[or(t)>Qe?t+Math.round(-t/er)*er:t,n]}function Tr(t,n,e){return(t%=er)?n||e?Cr(jr(t),qr(n,e)):jr(t):n||e?qr(n,e):$r}function Pr(t){return function(n,e){return[(n+=t)>Qe?n-er:n<-Qe?n+er:n,e]}}function jr(t){var n=Pr(t);return n.invert=Pr(-t),n}function qr(t,n){var e=cr(t),r=sr(t),i=cr(n),o=sr(n);function u(t,n){var u=cr(n),a=cr(t)*u,c=sr(t)*u,l=sr(n),s=l*e+a*r;return[ar(c*i-s*o,a*e-l*r),pr(s*i+c*o)]}return u.invert=function(t,n){var u=cr(n),a=cr(t)*u,c=sr(t)*u,l=sr(n),s=l*i-c*o;return[ar(c*i+l*o,a*e+s*r),pr(s*e-a*r)]},u}function Rr(t,n,e,r,i,o){if(e){var u=cr(n),a=sr(n),c=r*e;null==i?(i=n+r*er,o=n-c/2):(i=Dr(u,i),o=Dr(u,o),(r>0?i<o:i>o)&&(i+=r*er));for(var l,s=i;r>0?s>o:s<o;s-=c)l=_r([u,-a*cr(s),-a*sr(s)]),t.point(l[0],l[1])}}function Dr(t,n){(n=xr(n))[0]-=t,kr(n);var e,r=(e=-n[1])>1?0:e<-1?Qe:Math.acos(e);return((-n[2]<0?-r:r)+er-1e-6)%er}function Lr(){var t,n=[];return{point:function(n,e){t.push([n,e])},lineStart:function(){n.push(t=[])},lineEnd:dr,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var e=n;return n=[],t=null,e}}}function Ir(t,n){return or(t[0]-n[0])<1e-6&&or(t[1]-n[1])<1e-6}function Or(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function zr(t,n,e,r,i){var o,u,a=[],c=[];if(t.forEach((function(t){if(!((n=t.length-1)<=0)){var n,e,r=t[0],u=t[n];if(Ir(r,u)){for(i.lineStart(),o=0;o<n;++o)i.point((r=t[o])[0],r[1]);i.lineEnd()}else a.push(e=new Or(r,t,null,!0)),c.push(e.o=new Or(r,null,e,!1)),a.push(e=new Or(u,t,null,!1)),c.push(e.o=new Or(u,null,e,!0))}})),a.length){for(c.sort(n),Br(a),Br(c),o=0,u=c.length;o<u;++o)c[o].e=e=!e;for(var l,s,f=a[0];;){for(var h=f,p=!0;h.v;)if((h=h.n)===f)return;l=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(o=0,u=l.length;o<u;++o)i.point((s=l[o])[0],s[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(p)for(l=h.p.z,o=l.length-1;o>=0;--o)i.point((s=l[o])[0],s[1]);else r(h.x,h.p.x,-1,i);h=h.p}l=(h=h.o).z,p=!p}while(!h.v);i.lineEnd()}}}function Br(t){if(n=t.length){for(var n,e,r=0,i=t[0];++r<n;)i.n=e=t[r],e.p=i,i=e;i.n=e=t[0],e.p=i}}$r.invert=$r;var Ur=We();function Fr(t){return or(t[0])<=Qe?t[0]:fr(t[0])*((or(t[0])+Qe)%er-Qe)}function Hr(t,n,e,r){return function(i){var o,u,a,c=n(i),l=Lr(),s=n(l),f=!1,h={point:p,lineStart:v,lineEnd:g,polygonStart:function(){h.point=m,h.lineStart=y,h.lineEnd=w,u=[],o=[]},polygonEnd:function(){h.point=p,h.lineStart=v,h.lineEnd=g,u=Tn(u);var t=function(t,n){var e=Fr(n),r=n[1],i=sr(r),o=[sr(e),-cr(e),0],u=0,a=0;Ur.reset(),1===i?r=tr+1e-6:-1===i&&(r=-tr-1e-6);for(var c=0,l=t.length;c<l;++c)if(f=(s=t[c]).length)for(var s,f,h=s[f-1],p=Fr(h),d=h[1]/2+nr,v=sr(d),g=cr(d),m=0;m<f;++m,p=w,v=_,g=x,h=y){var y=s[m],w=Fr(y),b=y[1]/2+nr,_=sr(b),x=cr(b),M=w-p,S=M>=0?1:-1,E=S*M,N=E>Qe,k=v*_;if(Ur.add(ar(k*S*sr(E),g*x+k*cr(E))),u+=N?M+S*er:M,N^p>=e^w>=e){var A=Sr(xr(h),xr(y));kr(A);var C=Sr(o,A);kr(C);var $=(N^M>=0?-1:1)*pr(C[2]);(r>$||r===$&&(A[0]||A[1]))&&(a+=N^M>=0?1:-1)}}return(u<-1e-6||u<1e-6&&Ur<-1e-6)^1&a}(o,r);u.length?(f||(i.polygonStart(),f=!0),zr(u,Xr,t,e,i)):t&&(f||(i.polygonStart(),f=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),f&&(i.polygonEnd(),f=!1),u=o=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function p(n,e){t(n,e)&&i.point(n,e)}function d(t,n){c.point(t,n)}function v(){h.point=d,c.lineStart()}function g(){h.point=p,c.lineEnd()}function m(t,n){a.push([t,n]),s.point(t,n)}function y(){s.lineStart(),a=[]}function w(){m(a[0][0],a[0][1]),s.lineEnd();var t,n,e,r,c=s.clean(),h=l.result(),p=h.length;if(a.pop(),o.push(a),a=null,p)if(1&c){if((n=(e=h[0]).length-1)>0){for(f||(i.polygonStart(),f=!0),i.lineStart(),t=0;t<n;++t)i.point((r=e[t])[0],r[1]);i.lineEnd()}}else p>1&&2&c&&h.push(h.pop().concat(h.shift())),u.push(h.filter(Vr))}return h}}function Vr(t){return t.length>1}function Xr(t,n){return((t=t.x)[0]<0?t[1]-tr-1e-6:tr-t[1])-((n=n.x)[0]<0?n[1]-tr-1e-6:tr-n[1])}var Gr=Hr((function(){return!0}),(function(t){var n,e=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),n=1},point:function(o,u){var a=o>0?Qe:-Qe,c=or(o-e);or(c-Qe)<1e-6?(t.point(e,r=(r+u)/2>0?tr:-tr),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(a,r),t.point(o,r),n=0):i!==a&&c>=Qe&&(or(e-i)<1e-6&&(e-=1e-6*i),or(o-a)<1e-6&&(o-=1e-6*a),r=function(t,n,e,r){var i,o,u=sr(t-e);return or(u)>1e-6?ur((sr(n)*(o=cr(r))*sr(e)-sr(r)*(i=cr(n))*sr(t))/(i*o*u)):(n+r)/2}(e,r,o,u),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(a,r),n=0),t.point(e=o,r=u),i=a},lineEnd:function(){t.lineEnd(),e=r=NaN},clean:function(){return 2-n}}}),(function(t,n,e,r){var i;if(null==t)i=e*tr,r.point(-Qe,i),r.point(0,i),r.point(Qe,i),r.point(Qe,0),r.point(Qe,-i),r.point(0,-i),r.point(-Qe,-i),r.point(-Qe,0),r.point(-Qe,i);else if(or(t[0]-n[0])>1e-6){var o=t[0]<n[0]?Qe:-Qe;i=e*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(n[0],n[1])}),[-Qe,-tr]);function Yr(t){var n=cr(t),e=6*ir,r=n>0,i=or(n)>1e-6;function o(t,e){return cr(t)*cr(e)>n}function u(t,e,r){var i=[1,0,0],o=Sr(xr(t),xr(e)),u=Mr(o,o),a=o[0],c=u-a*a;if(!c)return!r&&t;var l=n*u/c,s=-n*a/c,f=Sr(i,o),h=Nr(i,l);Er(h,Nr(o,s));var p=f,d=Mr(h,p),v=Mr(p,p),g=d*d-v*(Mr(h,h)-1);if(!(g<0)){var m=hr(g),y=Nr(p,(-d-m)/v);if(Er(y,h),y=_r(y),!r)return y;var w,b=t[0],_=e[0],x=t[1],M=e[1];_<b&&(w=b,b=_,_=w);var S=_-b,E=or(S-Qe)<1e-6;if(!E&&M<x&&(w=x,x=M,M=w),E||S<1e-6?E?x+M>0^y[1]<(or(y[0]-b)<1e-6?x:M):x<=y[1]&&y[1]<=M:S>Qe^(b<=y[0]&&y[0]<=_)){var N=Nr(p,(-d+m)/v);return Er(N,h),[y,_r(N)]}}}function a(n,e){var i=r?t:Qe-t,o=0;return n<-i?o|=1:n>i&&(o|=2),e<-i?o|=4:e>i&&(o|=8),o}return Hr(o,(function(t){var n,e,c,l,s;return{lineStart:function(){l=c=!1,s=1},point:function(f,h){var p,d=[f,h],v=o(f,h),g=r?v?0:a(f,h):v?a(f+(f<0?Qe:-Qe),h):0;if(!n&&(l=c=v)&&t.lineStart(),v!==c&&(!(p=u(n,d))||Ir(n,p)||Ir(d,p))&&(d[0]+=1e-6,d[1]+=1e-6,v=o(d[0],d[1])),v!==c)s=0,v?(t.lineStart(),p=u(d,n),t.point(p[0],p[1])):(p=u(n,d),t.point(p[0],p[1]),t.lineEnd()),n=p;else if(i&&n&&r^v){var m;g&e||!(m=u(d,n,!0))||(s=0,r?(t.lineStart(),t.point(m[0][0],m[0][1]),t.point(m[1][0],m[1][1]),t.lineEnd()):(t.point(m[1][0],m[1][1]),t.lineEnd(),t.lineStart(),t.point(m[0][0],m[0][1])))}!v||n&&Ir(n,d)||t.point(d[0],d[1]),n=d,c=v,e=g},lineEnd:function(){c&&t.lineEnd(),n=null},clean:function(){return s|(l&&c)<<1}}}),(function(n,r,i,o){Rr(o,t,e,i,n,r)}),r?[0,-t]:[-Qe,t-Qe])}function Wr(t,n,e,r){function i(i,o){return t<=i&&i<=e&&n<=o&&o<=r}function o(i,o,a,l){var s=0,f=0;if(null==i||(s=u(i,a))!==(f=u(o,a))||c(i,o)<0^a>0)do{l.point(0===s||3===s?t:e,s>1?r:n)}while((s=(s+a+4)%4)!==f);else l.point(o[0],o[1])}function u(r,i){return or(r[0]-t)<1e-6?i>0?0:3:or(r[0]-e)<1e-6?i>0?2:1:or(r[1]-n)<1e-6?i>0?1:0:i>0?3:2}function a(t,n){return c(t.x,n.x)}function c(t,n){var e=u(t,1),r=u(n,1);return e!==r?e-r:0===e?n[1]-t[1]:1===e?t[0]-n[0]:2===e?t[1]-n[1]:n[0]-t[0]}return function(u){var c,l,s,f,h,p,d,v,g,m,y,w=u,b=Lr(),_={point:x,lineStart:function(){_.point=M,l&&l.push(s=[]);m=!0,g=!1,d=v=NaN},lineEnd:function(){c&&(M(f,h),p&&g&&b.rejoin(),c.push(b.result()));_.point=x,g&&w.lineEnd()},polygonStart:function(){w=b,c=[],l=[],y=!0},polygonEnd:function(){var n=function(){for(var n=0,e=0,i=l.length;e<i;++e)for(var o,u,a=l[e],c=1,s=a.length,f=a[0],h=f[0],p=f[1];c<s;++c)o=h,u=p,f=a[c],h=f[0],p=f[1],u<=r?p>r&&(h-o)*(r-u)>(p-u)*(t-o)&&++n:p<=r&&(h-o)*(r-u)<(p-u)*(t-o)&&--n;return n}(),e=y&&n,i=(c=Tn(c)).length;(e||i)&&(u.polygonStart(),e&&(u.lineStart(),o(null,null,1,u),u.lineEnd()),i&&zr(c,a,n,o,u),u.polygonEnd());w=u,c=l=s=null}};function x(t,n){i(t,n)&&w.point(t,n)}function M(o,u){var a=i(o,u);if(l&&s.push([o,u]),m)f=o,h=u,p=a,m=!1,a&&(w.lineStart(),w.point(o,u));else if(a&&g)w.point(o,u);else{var c=[d=Math.max(-1e9,Math.min(1e9,d)),v=Math.max(-1e9,Math.min(1e9,v))],b=[o=Math.max(-1e9,Math.min(1e9,o)),u=Math.max(-1e9,Math.min(1e9,u))];!function(t,n,e,r,i,o){var u,a=t[0],c=t[1],l=0,s=1,f=n[0]-a,h=n[1]-c;if(u=e-a,f||!(u>0)){if(u/=f,f<0){if(u<l)return;u<s&&(s=u)}else if(f>0){if(u>s)return;u>l&&(l=u)}if(u=i-a,f||!(u<0)){if(u/=f,f<0){if(u>s)return;u>l&&(l=u)}else if(f>0){if(u<l)return;u<s&&(s=u)}if(u=r-c,h||!(u>0)){if(u/=h,h<0){if(u<l)return;u<s&&(s=u)}else if(h>0){if(u>s)return;u>l&&(l=u)}if(u=o-c,h||!(u<0)){if(u/=h,h<0){if(u>s)return;u>l&&(l=u)}else if(h>0){if(u<l)return;u<s&&(s=u)}return l>0&&(t[0]=a+l*f,t[1]=c+l*h),s<1&&(n[0]=a+s*f,n[1]=c+s*h),!0}}}}}(c,b,t,n,e,r)?a&&(w.lineStart(),w.point(o,u),y=!1):(g||(w.lineStart(),w.point(c[0],c[1])),w.point(b[0],b[1]),a||w.lineEnd(),y=!1)}d=o,v=u,g=a}return _}}function Zr(t,n,e){var r=Nn(t,n-1e-6,e).concat(n);return function(t){return r.map((function(n){return[t,n]}))}}function Jr(t,n,e){var r=Nn(t,n-1e-6,e).concat(n);return function(t){return r.map((function(n){return[n,t]}))}}function Kr(){var t,n,e,r,i,o,u,a,c,l,s,f,h=10,p=h,d=90,v=360,g=2.5;function m(){return{type:"MultiLineString",coordinates:y()}}function y(){return Nn(lr(r/d)*d,e,d).map(s).concat(Nn(lr(a/v)*v,u,v).map(f)).concat(Nn(lr(n/h)*h,t,h).filter((function(t){return or(t%d)>1e-6})).map(c)).concat(Nn(lr(o/p)*p,i,p).filter((function(t){return or(t%v)>1e-6})).map(l))}return m.lines=function(){return y().map((function(t){return{type:"LineString",coordinates:t}}))},m.outline=function(){return{type:"Polygon",coordinates:[s(r).concat(f(u).slice(1),s(e).reverse().slice(1),f(a).reverse().slice(1))]}},m.extent=function(t){return arguments.length?m.extentMajor(t).extentMinor(t):m.extentMinor()},m.extentMajor=function(t){return arguments.length?(r=+t[0][0],e=+t[1][0],a=+t[0][1],u=+t[1][1],r>e&&(t=r,r=e,e=t),a>u&&(t=a,a=u,u=t),m.precision(g)):[[r,a],[e,u]]},m.extentMinor=function(e){return arguments.length?(n=+e[0][0],t=+e[1][0],o=+e[0][1],i=+e[1][1],n>t&&(e=n,n=t,t=e),o>i&&(e=o,o=i,i=e),m.precision(g)):[[n,o],[t,i]]},m.step=function(t){return arguments.length?m.stepMajor(t).stepMinor(t):m.stepMinor()},m.stepMajor=function(t){return arguments.length?(d=+t[0],v=+t[1],m):[d,v]},m.stepMinor=function(t){return arguments.length?(h=+t[0],p=+t[1],m):[h,p]},m.precision=function(h){return arguments.length?(g=+h,c=Zr(o,i,90),l=Jr(n,t,g),s=Zr(a,u,90),f=Jr(r,e,g),m):g},m.extentMajor([[-180,1e-6-90],[180,90-1e-6]]).extentMinor([[-180,-80-1e-6],[180,80+1e-6]])}function Qr(t){return t}var ti,ni,ei,ri,ii=We(),oi=We(),ui={point:dr,lineStart:dr,lineEnd:dr,polygonStart:function(){ui.lineStart=ai,ui.lineEnd=si},polygonEnd:function(){ui.lineStart=ui.lineEnd=ui.point=dr,ii.add(or(oi)),oi.reset()},result:function(){var t=ii/2;return ii.reset(),t}};function ai(){ui.point=ci}function ci(t,n){ui.point=li,ti=ei=t,ni=ri=n}function li(t,n){oi.add(ri*t-ei*n),ei=t,ri=n}function si(){li(ti,ni)}var fi=1/0,hi=fi,pi=-fi,di=pi,vi={point:function(t,n){t<fi&&(fi=t);t>pi&&(pi=t);n<hi&&(hi=n);n>di&&(di=n)},lineStart:dr,lineEnd:dr,polygonStart:dr,polygonEnd:dr,result:function(){var t=[[fi,hi],[pi,di]];return pi=di=-(hi=fi=1/0),t}};var gi,mi,yi,wi,bi=0,_i=0,xi=0,Mi=0,Si=0,Ei=0,Ni=0,ki=0,Ai=0,Ci={point:$i,lineStart:Ti,lineEnd:qi,polygonStart:function(){Ci.lineStart=Ri,Ci.lineEnd=Di},polygonEnd:function(){Ci.point=$i,Ci.lineStart=Ti,Ci.lineEnd=qi},result:function(){var t=Ai?[Ni/Ai,ki/Ai]:Ei?[Mi/Ei,Si/Ei]:xi?[bi/xi,_i/xi]:[NaN,NaN];return bi=_i=xi=Mi=Si=Ei=Ni=ki=Ai=0,t}};function $i(t,n){bi+=t,_i+=n,++xi}function Ti(){Ci.point=Pi}function Pi(t,n){Ci.point=ji,$i(yi=t,wi=n)}function ji(t,n){var e=t-yi,r=n-wi,i=hr(e*e+r*r);Mi+=i*(yi+t)/2,Si+=i*(wi+n)/2,Ei+=i,$i(yi=t,wi=n)}function qi(){Ci.point=$i}function Ri(){Ci.point=Li}function Di(){Ii(gi,mi)}function Li(t,n){Ci.point=Ii,$i(gi=yi=t,mi=wi=n)}function Ii(t,n){var e=t-yi,r=n-wi,i=hr(e*e+r*r);Mi+=i*(yi+t)/2,Si+=i*(wi+n)/2,Ei+=i,Ni+=(i=wi*t-yi*n)*(yi+t),ki+=i*(wi+n),Ai+=3*i,$i(yi=t,wi=n)}function Oi(t){this._context=t}Oi.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._context.moveTo(t,n),this._point=1;break;case 1:this._context.lineTo(t,n);break;default:this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,er)}},result:dr};var zi,Bi,Ui,Fi,Hi,Vi=We(),Xi={point:dr,lineStart:function(){Xi.point=Gi},lineEnd:function(){zi&&Yi(Bi,Ui),Xi.point=dr},polygonStart:function(){zi=!0},polygonEnd:function(){zi=null},result:function(){var t=+Vi;return Vi.reset(),t}};function Gi(t,n){Xi.point=Yi,Bi=Fi=t,Ui=Hi=n}function Yi(t,n){Fi-=t,Hi-=n,Vi.add(hr(Fi*Fi+Hi*Hi)),Fi=t,Hi=n}function Wi(){this._string=[]}function Zi(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Ji(t,n){var e,r,i=4.5;function o(t){return t&&("function"==typeof i&&r.pointRadius(+i.apply(this,arguments)),br(t,e(r))),r.result()}return o.area=function(t){return br(t,e(ui)),ui.result()},o.measure=function(t){return br(t,e(Xi)),Xi.result()},o.bounds=function(t){return br(t,e(vi)),vi.result()},o.centroid=function(t){return br(t,e(Ci)),Ci.result()},o.projection=function(n){return arguments.length?(e=null==n?(t=null,Qr):(t=n).stream,o):t},o.context=function(t){return arguments.length?(r=null==t?(n=null,new Wi):new Oi(n=t),"function"!=typeof i&&r.pointRadius(i),o):n},o.pointRadius=function(t){return arguments.length?(i="function"==typeof t?t:(r.pointRadius(+t),+t),o):i},o.projection(t).context(n)}function Ki(t){return function(n){var e=new Qi;for(var r in t)e[r]=t[r];return e.stream=n,e}}function Qi(){}function to(t,n,e){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),br(e,t.stream(vi)),n(vi.result()),null!=r&&t.clipExtent(r),t}function no(t,n,e){return to(t,(function(e){var r=n[1][0]-n[0][0],i=n[1][1]-n[0][1],o=Math.min(r/(e[1][0]-e[0][0]),i/(e[1][1]-e[0][1])),u=+n[0][0]+(r-o*(e[1][0]+e[0][0]))/2,a=+n[0][1]+(i-o*(e[1][1]+e[0][1]))/2;t.scale(150*o).translate([u,a])}),e)}Wi.prototype={_radius:4.5,_circle:Zi(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._string.push("M",t,",",n),this._point=1;break;case 1:this._string.push("L",t,",",n);break;default:null==this._circle&&(this._circle=Zi(this._radius)),this._string.push("M",t,",",n,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}},Qi.prototype={constructor:Qi,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var eo=cr(30*ir);function ro(t,n){return+n?function(t,n){function e(r,i,o,u,a,c,l,s,f,h,p,d,v,g){var m=l-r,y=s-i,w=m*m+y*y;if(w>4*n&&v--){var b=u+h,_=a+p,x=c+d,M=hr(b*b+_*_+x*x),S=pr(x/=M),E=or(or(x)-1)<1e-6||or(o-f)<1e-6?(o+f)/2:ar(_,b),N=t(E,S),k=N[0],A=N[1],C=k-r,$=A-i,T=y*C-m*$;(T*T/w>n||or((m*C+y*$)/w-.5)>.3||u*h+a*p+c*d<eo)&&(e(r,i,o,u,a,c,k,A,E,b/=M,_/=M,x,v,g),g.point(k,A),e(k,A,E,b,_,x,l,s,f,h,p,d,v,g))}}return function(n){var r,i,o,u,a,c,l,s,f,h,p,d,v={point:g,lineStart:m,lineEnd:w,polygonStart:function(){n.polygonStart(),v.lineStart=b},polygonEnd:function(){n.polygonEnd(),v.lineStart=m}};function g(e,r){e=t(e,r),n.point(e[0],e[1])}function m(){s=NaN,v.point=y,n.lineStart()}function y(r,i){var o=xr([r,i]),u=t(r,i);e(s,f,l,h,p,d,s=u[0],f=u[1],l=r,h=o[0],p=o[1],d=o[2],16,n),n.point(s,f)}function w(){v.point=g,n.lineEnd()}function b(){m(),v.point=_,v.lineEnd=x}function _(t,n){y(r=t,n),i=s,o=f,u=h,a=p,c=d,v.point=y}function x(){e(s,f,l,h,p,d,i,o,r,u,a,c,16,n),v.lineEnd=w,w()}return v}}(t,n):function(t){return Ki({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}(t)}var io,oo=Ki({point:function(t,n){this.stream.point(t*ir,n*ir)}});function uo(t,n,e){function r(r,i){return[n+t*r,e-t*i]}return r.invert=function(r,i){return[(r-n)/t,(e-i)/t]},r}function ao(t,n,e,r){var i=cr(r),o=sr(r),u=i*t,a=o*t,c=i/t,l=o/t,s=(o*e-i*n)/t,f=(o*n+i*e)/t;function h(t,r){return[u*t-a*r+n,e-a*t-u*r]}return h.invert=function(t,n){return[c*t-l*n+s,f-l*t-c*n]},h}function co(t){return function(t){var n,e,r,i,o,u,a,c,l,s,f=150,h=480,p=250,d=0,v=0,g=0,m=0,y=0,w=0,b=null,_=Gr,x=null,M=Qr,S=.5;function E(t){return c(t[0]*ir,t[1]*ir)}function N(t){return(t=c.invert(t[0],t[1]))&&[t[0]*rr,t[1]*rr]}function k(){var t=ao(f,0,0,w).apply(null,n(d,v)),r=(w?ao:uo)(f,h-t[0],p-t[1],w);return e=Tr(g,m,y),a=Cr(n,r),c=Cr(e,a),u=ro(a,S),A()}function A(){return l=s=null,E}return E.stream=function(t){return l&&s===t?l:l=oo(function(t){return Ki({point:function(n,e){var r=t(n,e);return this.stream.point(r[0],r[1])}})}(e)(_(u(M(s=t)))))},E.preclip=function(t){return arguments.length?(_=t,b=void 0,A()):_},E.postclip=function(t){return arguments.length?(M=t,x=r=i=o=null,A()):M},E.clipAngle=function(t){return arguments.length?(_=+t?Yr(b=t*ir):(b=null,Gr),A()):b*rr},E.clipExtent=function(t){return arguments.length?(M=null==t?(x=r=i=o=null,Qr):Wr(x=+t[0][0],r=+t[0][1],i=+t[1][0],o=+t[1][1]),A()):null==x?null:[[x,r],[i,o]]},E.scale=function(t){return arguments.length?(f=+t,k()):f},E.translate=function(t){return arguments.length?(h=+t[0],p=+t[1],k()):[h,p]},E.center=function(t){return arguments.length?(d=t[0]%360*ir,v=t[1]%360*ir,k()):[d*rr,v*rr]},E.rotate=function(t){return arguments.length?(g=t[0]%360*ir,m=t[1]%360*ir,y=t.length>2?t[2]%360*ir:0,k()):[g*rr,m*rr,y*rr]},E.angle=function(t){return arguments.length?(w=t%360*ir,k()):w*rr},E.precision=function(t){return arguments.length?(u=ro(a,S=t*t),A()):hr(S)},E.fitExtent=function(t,n){return no(E,t,n)},E.fitSize=function(t,n){return function(t,n,e){return no(t,[[0,0],n],e)}(E,t,n)},E.fitWidth=function(t,n){return function(t,n,e){return to(t,(function(e){var r=+n,i=r/(e[1][0]-e[0][0]),o=(r-i*(e[1][0]+e[0][0]))/2,u=-i*e[0][1];t.scale(150*i).translate([o,u])}),e)}(E,t,n)},E.fitHeight=function(t,n){return function(t,n,e){return to(t,(function(e){var r=+n,i=r/(e[1][1]-e[0][1]),o=-i*e[0][0],u=(r-i*(e[1][1]+e[0][1]))/2;t.scale(150*i).translate([o,u])}),e)}(E,t,n)},function(){return n=t.apply(this,arguments),E.invert=n.invert&&N,k()}}((function(){return t}))()}function lo(t,n){return[cr(n)*sr(t),sr(n)]}lo.invert=(io=pr,function(t,n){var e=hr(t*t+n*n),r=io(e),i=sr(r),o=cr(r);return[ar(t*i,e*o),pr(e&&n*i/e)]});var so,fo,ho=0,po=0,vo=0,go=0,mo=0,yo=0,wo="object"==typeof performance&&performance.now?performance:Date,bo="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function _o(){return mo||(bo(xo),mo=wo.now()+yo)}function xo(){mo=0}function Mo(){this._call=this._time=this._next=null}function So(t,n,e){var r=new Mo;return r.restart(t,n,e),r}function Eo(){mo=(go=wo.now())+yo,ho=po=0;try{!function(){_o(),++ho;for(var t,n=so;n;)(t=mo-n._time)>=0&&n._call.call(null,t),n=n._next;--ho}()}finally{ho=0,function(){var t,n,e=so,r=1/0;for(;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:so=n);fo=t,ko(r)}(),mo=0}}function No(){var t=wo.now(),n=t-go;n>1e3&&(yo-=n,go=t)}function ko(t){ho||(po&&(po=clearTimeout(po)),t-mo>24?(t<1/0&&(po=setTimeout(Eo,t-wo.now()-yo)),vo&&(vo=clearInterval(vo))):(vo||(go=wo.now(),vo=setInterval(No,1e3)),ho=1,bo(Eo)))}function Ao(n){var e,r,i,o,u,a,c=n.projection,l=function(t){var n=t.time||5e3,e=-Math.log(1-1/1.0001),r={start:function(){var n=sn(this);r.position=n,r.velocity=[0,0],r.timer.stop(),this.classList.remove("inertia"),this.classList.add("dragging"),t.start&&t.start.call(this,n)},move:function(){var n=sn(this),e=performance.now(),i=e-r.time,o=1-Math.exp(-i/1e3);r.velocity=r.velocity.map((function(t,i){var u=n[i]-r.position[i],a=e-r.time;return 1e3*(1-o)*u/a+t*o})),r.time=e,r.position=n,t.move&&t.move.call(this,n)},end:function(){var i=r.velocity;if(i[0]*i[0]+i[1]*i[1]<100)return r.timer.stop(),this.classList.remove("inertia");this.classList.remove("dragging"),this.classList.add("inertia"),t.end&&t.end();var o=this;r.timer.restart((function(i){r.t=1.0001*(1-Math.exp(-e*i/n)),t.render&&t.render(r.t),r.t>1&&(r.timer.stop(),o.classList.remove("inertia"),r.velocity=[0,0],r.t=1)}))},position:[0,0],velocity:[0,0],timer:So((function(){})),time:0};return r.timer.stop(),r}({start:function(){e=t.cartesian(c.invert(l.position)),r=c.rotate(),i=t(r),n.start&&n.start()},move:function(){var o=c.rotate(r).invert(l.position);if(!isNaN(o[0])){var u=t.cartesian(o),a=t.multiply(i,t.delta(e,u)),s=t.rotation(a);n.render(s),n.move&&n.move()}},end:function(){o=t.cartesian(c.invert(l.position.map((function(t,n){return t-l.velocity[n]/1e3})))),a=t(c.rotate()),u=t.cartesian(c.invert(l.position)),n.end&&n.end()},render:function(e){var r=t.rotation(t.multiply(a,t.delta(o,u,1e3*e)));n.render&&n.render(r)},time:n.time});return l}function Co(t){let e,r,o,u,s,p,v,y,w,_,x;return{c(){e=f("div"),r=f("canvas"),o=d(),u=h("svg"),s=h("circle"),m(r,"width",t[2]),m(r,"height",t[2]),m(r,"class","svelte-z5u5vv"),m(s,"id","placeholder"),m(s,"cx",p=t[2]/2/t[3]),m(s,"cy",v=t[2]/2/t[3]),m(s,"r",y=t[2]/2/t[3]),m(s,"class","svelte-z5u5vv"),m(u,"width",w=t[2]/t[3]),m(u,"height",_=t[2]/t[3]),m(u,"class","svelte-z5u5vv"),m(e,"class","map svelte-z5u5vv"),b(e,"drag",t[0])},m(n,i){c(n,e,i),a(e,r),t[12](r),a(e,o),a(e,u),a(u,s),x=[g(s,"mouseenter",t[4]),g(s,"mouseleave",t[5])]},p(t,[n]){4&n&&m(r,"width",t[2]),4&n&&m(r,"height",t[2]),4&n&&p!==(p=t[2]/2/t[3])&&m(s,"cx",p),4&n&&v!==(v=t[2]/2/t[3])&&m(s,"cy",v),4&n&&y!==(y=t[2]/2/t[3])&&m(s,"r",y),4&n&&w!==(w=t[2]/t[3])&&m(u,"width",w),4&n&&_!==(_=t[2]/t[3])&&m(u,"height",_),1&n&&b(e,"drag",t[0])},i:n,o:n,d(n){n&&l(e),t[12](null),i(x)}}}function $o(t,n,e){const r=window.devicePixelRatio||1;let i=.02;const o=()=>{const t=document.body.clientWidth,n=document.body.clientHeight;return Math.min(t,.8*n)};let u,a=!1,c=o();const l={Confirmed:"#B00020",Treatment:"#dc8c50",Recovered:"#90EE02",Deaths:"#000"};let{data:s}=n,{active:f}=n,{world:h}=n;return M((async function(){e(2,c=o()*r);const t=(n=h,"GeometryCollection"===(p=h.objects.countries).type?{type:"FeatureCollection",features:p.geometries.map((function(t){return X(n,t)}))}:X(n,p));var n,p;const d=co(lo).scale(249.5).clipAngle(90+1e-6).rotate([-180,-20,0]).precision(.1).fitExtent([[5,5],[c-5,c-5]],{type:"Sphere"}),v=co((t,n)=>lo(-t,n)).clipAngle(90).translate(d.translate()).scale(d.scale()),g=u.getContext("2d"),m=function t(){var n,e=Ce(),r=[0,1],i=!1;function o(t){var r=Ye(e(t));return isNaN(r)?n:i?Math.round(r):r}return o.invert=function(t){return e.invert(Ge(t))},o.domain=function(t){return arguments.length?(e.domain(t),o):e.domain()},o.range=function(t){return arguments.length?(e.range((r=Array.from(t,xe)).map(Ge)),o):r.slice()},o.rangeRound=function(t){return o.range(t).round(!0)},o.round=function(t){return arguments.length?(i=!!t,o):i},o.clamp=function(t){return arguments.length?(e.clamp(t),o):e.clamp()},o.unknown=function(t){return arguments.length?(n=t,o):n},o.copy=function(){return t(e.domain(),r).round(i).clamp(e.clamp()).unknown(n)},Pn.apply(o,arguments),Xe(o)}().domain([0,1,1e5]).range([0,.5,13]),y=an("svg"),w=function(){e(2,c=o()*r);const n=Ji(d,g),i=d.rotate(),u=Ji(v.rotate([i[0]+180,-i[1],-i[2]]),g);g.clearRect(0,0,c,c),g.beginPath(),n({type:"Sphere"}),g.fillStyle="#505050",g.fill(),g.beginPath(),u(t),g.fillStyle="#6002EE",g.fill(),g.font="bold 90pt Oxanium",g.fillStyle="#000",g.textAlign="center",g.textBaseline="middle",g.fillText("COVID-19",c/2,c/2),g.beginPath(),u(Kr()()),g.lineWidth=.1,g.strokeStyle="#97b3f6",g.stroke(),g.beginPath(),n(Kr()()),g.lineWidth=.1,g.strokeStyle="#BB86FC",g.stroke(),g.beginPath(),n(t),g.globalAlpha=.9,g.fillStyle="#D4BFF9",g.fill(),g.lineWidth=1,g.strokeStyle="#7335D8",g.stroke(),g.globalAlpha=1,s.forEach(t=>{const e=parseInt(t[f]);if(e){const r=function(){var t,n,e=Ar([0,0]),r=Ar(90),i=Ar(6),o={point:function(e,r){t.push(e=n(e,r)),e[0]*=rr,e[1]*=rr}};function u(){var u=e.apply(this,arguments),a=r.apply(this,arguments)*ir,c=i.apply(this,arguments)*ir;return t=[],n=Tr(-u[0]*ir,-u[1]*ir,0).invert,Rr(o,a,c,1),u={type:"Polygon",coordinates:[t]},t=n=null,u}return u.center=function(t){return arguments.length?(e="function"==typeof t?t:Ar([+t[0],+t[1]]),u):e},u.radius=function(t){return arguments.length?(r="function"==typeof t?t:Ar(+t),u):r},u.precision=function(t){return arguments.length?(i="function"==typeof t?t:Ar(+t),u):i},u}().center([t.Longitude,t.Latitude]).radius(m(e));g.beginPath(),n(r()),g.globalAlpha=.7,g.fillStyle=l[f],g.fill(),g.globalAlpha=1}}),g.beginPath(),n({type:"Sphere"}),g.lineWidth=.1,g.strokeStyle="#3700B3",g.stroke()},b=Ao({projection:d,render:t=>{d.rotate([t[0],-20,0])},start:()=>{e(0,a=!0)},end:()=>{e(0,a=!1)}});y.call(_n().on("start",b.start).on("drag",b.move).on("end",b.end)),g.canvas.inertia=b,So((function(){const t=d.rotate();t[0]+=20*i,d.rotate(t),w()}))})),t.$set=t=>{"data"in t&&e(6,s=t.data),"active"in t&&e(7,f=t.active),"world"in t&&e(8,h=t.world)},[a,u,c,r,()=>{i=.005},()=>{i=.02},s,f,h,i,o,l,function(t){E[t?"unshift":"push"](()=>{e(1,u=t)})}]}Mo.prototype=So.prototype={constructor:Mo,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?_o():+e)+(null==n?0:+n),this._next||fo===this||(fo?fo._next=this:so=this,fo=this),this._call=t,this._time=e,ko()},stop:function(){this._call&&(this._call=null,this._time=1/0,ko())}};class To extends H{constructor(t){super(),F(this,t,$o,Co,u,{data:6,active:7,world:8})}}var Po={},jo={};function qo(t){return new Function("d","return {"+t.map((function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'})).join(",")+"}")}function Ro(t){var n=Object.create(null),e=[];return t.forEach((function(t){for(var r in t)r in n||e.push(n[r]=r)})),e}function Do(t,n){var e=t+"",r=e.length;return r<n?new Array(n-r+1).join(0)+e:e}function Lo(t){var n,e=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),o=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":((n=t.getUTCFullYear())<0?"-"+Do(-n,6):n>9999?"+"+Do(n,6):Do(n,4))+"-"+Do(t.getUTCMonth()+1,2)+"-"+Do(t.getUTCDate(),2)+(o?"T"+Do(e,2)+":"+Do(r,2)+":"+Do(i,2)+"."+Do(o,3)+"Z":i?"T"+Do(e,2)+":"+Do(r,2)+":"+Do(i,2)+"Z":r||e?"T"+Do(e,2)+":"+Do(r,2)+"Z":"")}var Io=function(t){var n=new RegExp('["'+t+"\n\r]"),e=t.charCodeAt(0);function r(t,n){var r,i=[],o=t.length,u=0,a=0,c=o<=0,l=!1;function s(){if(c)return jo;if(l)return l=!1,Po;var n,r,i=u;if(34===t.charCodeAt(i)){for(;u++<o&&34!==t.charCodeAt(u)||34===t.charCodeAt(++u););return(n=u)>=o?c=!0:10===(r=t.charCodeAt(u++))?l=!0:13===r&&(l=!0,10===t.charCodeAt(u)&&++u),t.slice(i+1,n-1).replace(/""/g,'"')}for(;u<o;){if(10===(r=t.charCodeAt(n=u++)))l=!0;else if(13===r)l=!0,10===t.charCodeAt(u)&&++u;else if(r!==e)continue;return t.slice(i,n)}return c=!0,t.slice(i,o)}for(10===t.charCodeAt(o-1)&&--o,13===t.charCodeAt(o-1)&&--o;(r=s())!==jo;){for(var f=[];r!==Po&&r!==jo;)f.push(r),r=s();n&&null==(f=n(f,a++))||i.push(f)}return i}function i(n,e){return n.map((function(n){return e.map((function(t){return u(n[t])})).join(t)}))}function o(n){return n.map(u).join(t)}function u(t){return null==t?"":t instanceof Date?Lo(t):n.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,n){var e,i,o=r(t,(function(t,r){if(e)return e(t,r-1);i=t,e=n?function(t,n){var e=qo(t);return function(r,i){return n(e(r),i,t)}}(t,n):qo(t)}));return o.columns=i||[],o},parseRows:r,format:function(n,e){return null==e&&(e=Ro(n)),[e.map(u).join(t)].concat(i(n,e)).join("\n")},formatBody:function(t,n){return null==n&&(n=Ro(t)),i(t,n).join("\n")},formatRows:function(t){return t.map(o).join("\n")},formatRow:o,formatValue:u}}(",").parse;function Oo(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function zo(t,n){return fetch(t,n).then(Oo)}var Bo,Uo=(Bo=Io,function(t,n,e){return 2===arguments.length&&"function"==typeof n&&(e=n,n=void 0),zo(t,n).then((function(t){return Bo(t,e)}))});function Fo(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.json()}function Ho(t,n){return fetch(t,n).then(Fo)}function Vo(t,n,e){const r=t.slice();return r[11]=n[e],r}function Xo(t,n,e){const r=t.slice();return r[8]=n[e],r[10]=e,r}function Go(t){let n;return{c(){n=f("div"),n.textContent="省/州",m(n,"class","cell header svelte-h9p20w")},m(t,e){c(t,n,e)},d(t){t&&l(n)}}}function Yo(t){let n;return{c(){n=f("div"),m(n,"class","cell svelte-h9p20w"),b(n,"taiwan","台灣"===t[8].country)},m(t,e){c(t,n,e)},p(t,e){32&e&&b(n,"taiwan","台灣"===t[8].country)},d(t){t&&l(n)}}}function Wo(t){let n,e=t[8].items,r=[];for(let n=0;n<e.length;n+=1)r[n]=Zo(Vo(t,e,n));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();n=v()},m(t,e){for(let n=0;n<r.length;n+=1)r[n].m(t,e);c(t,n,e)},p(t,i){if(48&i){let o;for(e=t[8].items,o=0;o<e.length;o+=1){const u=Vo(t,e,o);r[o]?r[o].p(u,i):(r[o]=Zo(u),r[o].c(),r[o].m(n.parentNode,n))}for(;o<r.length;o+=1)r[o].d(1);r.length=e.length}},d(t){s(r,t),t&&l(n)}}}function Zo(t){let e,r,i,o,u,s,h,v,g,y,w,b,_,x,M,S,E,N,k=(t[11]["Province/State"]?t[11]["Province/State"]:t[8].country)+"",A=t[4](t[11].Confirmed)+"",C=t[4](t[11].Treatment)+"",$=t[4](t[11].Recovered)+"",T=t[4](t[11].Deaths)+"";return{c(){e=f("div"),r=d(),i=f("div"),o=d(),u=f("div"),s=p(k),h=d(),v=f("div"),g=p(A),y=d(),w=f("div"),b=p(C),_=d(),x=f("div"),M=p($),S=d(),E=f("div"),N=p(T),m(e,"class","cell svelte-h9p20w"),m(i,"class","cell svelte-h9p20w"),m(u,"class","cell svelte-h9p20w"),m(v,"class","cell number confirm svelte-h9p20w"),m(w,"class","cell number treat svelte-h9p20w"),m(x,"class","cell number recover svelte-h9p20w"),m(E,"class","cell number death svelte-h9p20w")},m(t,n){c(t,e,n),c(t,r,n),c(t,i,n),c(t,o,n),c(t,u,n),a(u,s),c(t,h,n),c(t,v,n),a(v,g),c(t,y,n),c(t,w,n),a(w,b),c(t,_,n),c(t,x,n),a(x,M),c(t,S,n),c(t,E,n),a(E,N)},p:n,d(t){t&&l(e),t&&l(r),t&&l(i),t&&l(o),t&&l(u),t&&l(h),t&&l(v),t&&l(y),t&&l(w),t&&l(_),t&&l(x),t&&l(S),t&&l(E)}}}function Jo(t){let n,e,r,i,o,u,s,h,g,y,w,_,x,M,S,E,N,k,A,C,$=t[10]+1+"",T=t[8].country+"",P=t[4](t[8].Confirmed)+"",j=t[4](t[8].Treatment)+"",q=t[4](t[8].Recovered)+"",R=t[4](t[8].Deaths)+"",D=t[0]&&Yo(t),L=t[0]&&t[8].items.length>1&&Wo(t);return{c(){n=f("div"),e=p($),r=d(),i=f("div"),o=p(T),u=d(),D&&D.c(),s=d(),h=f("div"),g=p(P),y=d(),w=f("div"),_=p(j),x=d(),M=f("div"),S=p(q),E=d(),N=f("div"),k=p(R),A=d(),L&&L.c(),C=v(),m(n,"class","cell svelte-h9p20w"),b(n,"taiwan","台灣"===t[8].country),m(i,"class","cell svelte-h9p20w"),b(i,"taiwan","台灣"===t[8].country),m(h,"class","cell number confirm svelte-h9p20w"),m(w,"class","cell number treat svelte-h9p20w"),m(M,"class","cell number recover svelte-h9p20w"),m(N,"class","cell number death svelte-h9p20w")},m(t,l){c(t,n,l),a(n,e),c(t,r,l),c(t,i,l),a(i,o),c(t,u,l),D&&D.m(t,l),c(t,s,l),c(t,h,l),a(h,g),c(t,y,l),c(t,w,l),a(w,_),c(t,x,l),c(t,M,l),a(M,S),c(t,E,l),c(t,N,l),a(N,k),c(t,A,l),L&&L.m(t,l),c(t,C,l)},p(t,e){32&e&&b(n,"taiwan","台灣"===t[8].country),32&e&&b(i,"taiwan","台灣"===t[8].country),t[0]?D?D.p(t,e):(D=Yo(t),D.c(),D.m(s.parentNode,s)):D&&(D.d(1),D=null),t[0]&&t[8].items.length>1?L?L.p(t,e):(L=Wo(t),L.c(),L.m(C.parentNode,C)):L&&(L.d(1),L=null)},d(t){t&&l(n),t&&l(r),t&&l(i),t&&l(u),D&&D.d(t),t&&l(s),t&&l(h),t&&l(y),t&&l(w),t&&l(x),t&&l(M),t&&l(E),t&&l(N),t&&l(A),L&&L.d(t),t&&l(C)}}}function Ko(t){let e,r,i,o,u,h,v,w,_,x,M,S,E,N,k,A,C,$,T,P,j,q,R,D,L,I,O,z,B=t[3](t[1])+"",U=t[0]?"check_box":"check_box_outline_blank",F=t[0]&&Go(),H=t[5],V=[];for(let n=0;n<H.length;n+=1)V[n]=Jo(Xo(t,H,n));return{c(){e=f("div"),r=f("h2"),r.textContent="各國統計表",i=d(),o=f("div"),u=p("最後更新時間："),h=p(B),v=d(),w=f("div"),_=f("i"),x=p(U),M=f("span"),M.textContent="顯示省/州",S=d(),E=f("div"),N=f("div"),k=f("div"),k.textContent="#",A=d(),C=f("div"),C.textContent="國家/區域",$=d(),F&&F.c(),T=d(),P=f("div"),P.textContent="總確診",j=d(),q=f("div"),q.textContent="治療中",R=d(),D=f("div"),D.textContent="復原",L=d(),I=f("div"),I.textContent="死亡",O=d();for(let t=0;t<V.length;t+=1)V[t].c();m(r,"class","title svelte-h9p20w"),m(o,"class","time svelte-h9p20w"),m(_,"class","material-icons toggle svelte-h9p20w"),m(w,"class","button svelte-h9p20w"),m(k,"class","cell header svelte-h9p20w"),m(C,"class","cell header svelte-h9p20w"),m(P,"class","cell header number confirm svelte-h9p20w"),m(q,"class","cell header number treat svelte-h9p20w"),m(D,"class","cell header number recover svelte-h9p20w"),m(I,"class","cell header number death svelte-h9p20w"),m(N,"class","table svelte-h9p20w"),b(N,"full",t[0]),m(E,"class","table-wrapper svelte-h9p20w")},m(n,l){c(n,e,l),a(e,r),a(e,i),a(e,o),a(o,u),a(o,h),a(e,v),a(e,w),a(w,_),a(_,x),a(w,M),a(e,S),a(e,E),a(E,N),a(N,k),a(N,A),a(N,C),a(N,$),F&&F.m(N,null),a(N,T),a(N,P),a(N,j),a(N,q),a(N,R),a(N,D),a(N,L),a(N,I),a(N,O);for(let t=0;t<V.length;t+=1)V[t].m(N,null);z=g(w,"click",t[2])},p(t,[n]){if(2&n&&B!==(B=t[3](t[1])+"")&&y(h,B),1&n&&U!==(U=t[0]?"check_box":"check_box_outline_blank")&&y(x,U),t[0]?F||(F=Go(),F.c(),F.m(N,T)):F&&(F.d(1),F=null),49&n){let e;for(H=t[5],e=0;e<H.length;e+=1){const r=Xo(t,H,e);V[e]?V[e].p(r,n):(V[e]=Jo(r),V[e].c(),V[e].m(N,null))}for(;e<V.length;e+=1)V[e].d(1);V.length=H.length}1&n&&b(N,"full",t[0])},i:n,o:n,d(t){t&&l(e),F&&F.d(),s(V,t),z()}}}function Qo(t,n,e){let r,{data:i}=n,o=!1;const u=ze(","),a=i.reduce((t,n)=>{const i=n["Country/Region"],o=+new Date(`${n["Last Update"]}Z`);return parseInt(n.Confirmed)?(t[i]?t[i]={...t[i],items:[...t[i].items,n],Confirmed:t[i].Confirmed+parseInt(n.Confirmed),Treatment:t[i].Treatment+parseInt(n.Treatment),Recovered:t[i].Recovered+parseInt(n.Recovered),Deaths:t[i].Deaths+parseInt(n.Deaths)}:t[i]={items:[n],Confirmed:parseInt(n.Confirmed),Treatment:parseInt(n.Treatment),Recovered:parseInt(n.Recovered),Deaths:parseInt(n.Deaths),country:i},(!r||r&&r<o)&&e(1,r=o),t):t},{}),c=Object.keys(a).map(t=>a[t]).sort((t,n)=>n.Confirmed-t.Confirmed);return t.$set=t=>{"data"in t&&e(6,i=t.data)},[o,r,()=>{e(0,o=!o)},t=>new Date(t).toLocaleString(),u,c,i]}class tu extends H{constructor(t){super(),F(this,t,Qo,Ko,u,{data:6})}}function nu(t){let e;return{c(){e=f("div"),e.innerHTML='<div class="lds-ellipsis svelte-1iq1a1t"><div class="svelte-1iq1a1t"></div> \n    <div class="svelte-1iq1a1t"></div> \n    <div class="svelte-1iq1a1t"></div> \n    <div class="svelte-1iq1a1t"></div></div>',m(e,"class","loader svelte-1iq1a1t")},m(t,n){c(t,e,n)},p:n,i:n,o:n,d(t){t&&l(e)}}}class eu extends H{constructor(t){super(),F(this,t,null,nu,u,{})}}function ru(t){let e;const r=new eu({});return{c(){O(r.$$.fragment)},m(t,n){z(r,t,n),e=!0},p:n,i(t){e||(L(r.$$.fragment,t),e=!0)},o(t){I(r.$$.fragment,t),e=!1},d(t){B(r,t)}}}function iu(t){let n,e,r,o,u,s,h,v,_,x,M,S,E,N,k,A,C,$,T,P,j,q,R,D,U,F,H,V,X,G,Y,W,Z,J,K,Q,tt,nt=t[5].Confirmed+"",et=t[5].Treatment+"",rt=t[5].Recovered+"",it=t[5].Deaths+"";const ot=new To({props:{active:t[0],data:t[1],world:t[2]}}),ut=new tu({props:{data:t[3]}});return{c(){n=f("div"),O(ot.$$.fragment),e=d(),r=f("div"),o=f("label"),u=f("span"),s=p("總確診("),h=p(nt),v=p(")"),_=d(),x=f("span"),x.textContent="=",M=d(),S=f("label"),E=f("span"),N=p("治療中("),k=p(et),A=p(")"),C=d(),$=f("span"),$.textContent="+",T=d(),P=f("label"),j=f("span"),q=p("復原("),R=p(rt),D=p(")"),U=d(),F=f("span"),F.textContent="+",H=d(),V=f("label"),X=f("span"),G=p("死亡("),Y=p(it),W=p(")"),Z=d(),O(ut.$$.fragment),J=d(),K=f("div"),K.innerHTML='<span>資料來源: <a href="https://github.com/CSSEGISandData/COVID-19" class="svelte-11q0hny">JHU CSSE</a> | 製作：<a href="https://github.com/abel1105/COVID-19-map" class="svelte-11q0hny">Abel</a></span>',w(u,"background","#B00020"),m(u,"class","svelte-11q0hny"),m(o,"class","svelte-11q0hny"),b(o,"active","Confirmed"===t[0]),m(x,"class","svelte-11q0hny"),w(E,"background","#dc8c50"),m(E,"class","svelte-11q0hny"),m(S,"class","svelte-11q0hny"),b(S,"active","Treatment"===t[0]),m($,"class","svelte-11q0hny"),w(j,"background","#90EE02"),m(j,"class","svelte-11q0hny"),m(P,"class","svelte-11q0hny"),b(P,"active","Recovered"===t[0]),m(F,"class","svelte-11q0hny"),w(X,"background","#000"),m(X,"class","svelte-11q0hny"),m(V,"class","svelte-11q0hny"),b(V,"active","Deaths"===t[0]),m(r,"class","label-box svelte-11q0hny"),m(n,"class","cut svelte-11q0hny"),m(K,"class","copyright svelte-11q0hny")},m(i,l){c(i,n,l),z(ot,n,null),a(n,e),a(n,r),a(r,o),a(o,u),a(o,s),a(o,h),a(o,v),a(r,_),a(r,x),a(r,M),a(r,S),a(S,E),a(S,N),a(S,k),a(S,A),a(r,C),a(r,$),a(r,T),a(r,P),a(P,j),a(P,q),a(P,R),a(P,D),a(r,U),a(r,F),a(r,H),a(r,V),a(V,X),a(V,G),a(V,Y),a(V,W),c(i,Z,l),z(ut,i,l),c(i,J,l),c(i,K,l),Q=!0,tt=[g(o,"click",t[6]("Confirmed")),g(S,"click",t[6]("Treatment")),g(P,"click",t[6]("Recovered")),g(V,"click",t[6]("Deaths"))]},p(t,n){const e={};1&n&&(e.active=t[0]),2&n&&(e.data=t[1]),4&n&&(e.world=t[2]),ot.$set(e),(!Q||32&n)&&nt!==(nt=t[5].Confirmed+"")&&y(h,nt),1&n&&b(o,"active","Confirmed"===t[0]),(!Q||32&n)&&et!==(et=t[5].Treatment+"")&&y(k,et),1&n&&b(S,"active","Treatment"===t[0]),(!Q||32&n)&&rt!==(rt=t[5].Recovered+"")&&y(R,rt),1&n&&b(P,"active","Recovered"===t[0]),(!Q||32&n)&&it!==(it=t[5].Deaths+"")&&y(Y,it),1&n&&b(V,"active","Deaths"===t[0]);const r={};8&n&&(r.data=t[3]),ut.$set(r)},i(t){Q||(L(ot.$$.fragment,t),L(ut.$$.fragment,t),Q=!0)},o(t){I(ot.$$.fragment,t),I(ut.$$.fragment,t),Q=!1},d(t){t&&l(n),B(ot),t&&l(Z),B(ut,t),t&&l(J),t&&l(K),i(tt)}}}function ou(t){let n,e,r,o;const u=[iu,ru],a=[];function s(t,n){return t[4]?0:1}return e=s(t),r=a[e]=u[e](t),{c(){n=f("main"),r.c(),m(n,"class","svelte-11q0hny")},m(t,r){c(t,n,r),a[e].m(n,null),o=!0},p(t,[o]){let c=e;e=s(t),e===c?a[e].p(t,o):(D={r:0,c:[],p:D},I(a[c],1,1,()=>{a[c]=null}),D.r||i(D.c),D=D.p,r=a[e],r||(r=a[e]=u[e](t),r.c()),L(r,1),r.m(n,null))},i(t){o||(L(r),o=!0)},o(t){I(r),o=!1},d(t){t&&l(n),a[e].d()}}}function uu(t,n,e){let r="Confirmed",i=null,o=null,u=null,a=!1;const c={},l=(t,n)=>t.reduce((t,e)=>parseInt(e[n])+t,0),s=ze(".3s");return M((async function(){e(2,[o,i,u]=await Promise.all([Ho("https://cdn.jsdelivr.net/npm/world-atlas@2/countries-110m.json"),Uo("https://docs.google.com/spreadsheets/d/e/2PACX-1vRjixGgr6I18VAxY6Ybv26aOeBdfD-NqHU01nnjBR-rpPPs0Jhtgvmaclyo98kG4XXWKiIUyY5vbA3Q/pub?gid=3549213&single=true&output=csv"),Uo("https://docs.google.com/spreadsheets/d/e/2PACX-1vRjixGgr6I18VAxY6Ybv26aOeBdfD-NqHU01nnjBR-rpPPs0Jhtgvmaclyo98kG4XXWKiIUyY5vbA3Q/pub?gid=2096675050&single=true&output=csv")]),o,e(1,i),e(3,u)),e(5,c.Confirmed=s(l(u,"Confirmed")),c),e(5,c.Treatment=s(l(u,"Treatment")),c),e(5,c.Recovered=s(l(u,"Recovered")),c),e(5,c.Deaths=s(l(u,"Deaths")),c),e(4,a=!0)})),[r,i,o,u,a,c,t=>()=>{e(0,r=t)}]}return new class extends H{constructor(t){super(),F(this,t,uu,ou,u,{})}}({target:document.body})}(versor);
//# sourceMappingURL=bundle.js.map
