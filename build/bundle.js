var app=function(t){"use strict";function n(){}function e(t){return t()}function r(){return Object.create(null)}function i(t){t.forEach(e)}function o(t){return"function"==typeof t}function u(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function a(t,n){t.appendChild(n)}function c(t,n,e){t.insertBefore(n,e||null)}function l(t){t.parentNode.removeChild(t)}function s(t){return document.createElement(t)}function f(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function h(t){return document.createTextNode(t)}function p(){return h(" ")}function d(t,n,e,r){return t.addEventListener(n,e,r),()=>t.removeEventListener(n,e,r)}function g(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function v(t,n){n=""+n,t.data!==n&&(t.data=n)}function m(t,n,e,r){t.style.setProperty(n,e,r?"important":"")}function y(t,n,e){t.classList[e?"add":"remove"](n)}let w;function b(t){w=t}function _(t){(function(){if(!w)throw new Error("Function called outside component initialization");return w})().$$.on_mount.push(t)}t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;const x=[],M=[],E=[],S=[],N=Promise.resolve();let k=!1;function A(t){E.push(t)}let j=!1;const $=new Set;function C(){if(!j){j=!0;do{for(let t=0;t<x.length;t+=1){const n=x[t];b(n),P(n.$$)}for(x.length=0;M.length;)M.pop()();for(let t=0;t<E.length;t+=1){const n=E[t];$.has(n)||($.add(n),n())}E.length=0}while(x.length);for(;S.length;)S.pop()();k=!1,j=!1,$.clear()}}function P(t){if(null!==t.fragment){t.update(),i(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(A)}}const T=new Set;let R;function L(t,n){t&&t.i&&(T.delete(t),t.i(n))}function D(t,n,e,r){if(t&&t.o){if(T.has(t))return;T.add(t),R.c.push(()=>{T.delete(t),r&&(e&&t.d(1),r())}),t.o(n)}}function O(t){t&&t.c()}function q(t,n,r){const{fragment:u,on_mount:a,on_destroy:c,after_update:l}=t.$$;u&&u.m(n,r),A(()=>{const n=a.map(e).filter(o);c?c.push(...n):i(n),t.$$.on_mount=[]}),l.forEach(A)}function z(t,n){const e=t.$$;null!==e.fragment&&(i(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function B(t,n){-1===t.$$.dirty[0]&&(x.push(t),k||(k=!0,N.then(C)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function I(t,e,o,u,a,c,l=[-1]){const s=w;b(t);const f=e.props||{},h=t.$$={fragment:null,ctx:null,props:c,update:n,not_equal:a,bound:r(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(s?s.$$.context:[]),callbacks:r(),dirty:l};let p=!1;h.ctx=o?o(t,f,(n,e,...r)=>{const i=r.length?r[0]:e;return h.ctx&&a(h.ctx[n],h.ctx[n]=i)&&(h.bound[n]&&h.bound[n](i),p&&B(t,n)),e}):[],h.update(),p=!0,i(h.before_update),h.fragment=!!u&&u(h.ctx),e.target&&(e.hydrate?h.fragment&&h.fragment.l(function(t){return Array.from(t.childNodes)}(e.target)):h.fragment&&h.fragment.c(),e.intro&&L(t.$$.fragment),q(t,e.target,e.anchor),C()),b(s)}class F{$destroy(){z(this,1),this.$destroy=n}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(){}}function U(t){return t}function H(t,n){var e=n.id,r=n.bbox,i=null==n.properties?{}:n.properties,o=function(t,n){var e=function(t){if(null==t)return U;var n,e,r=t.scale[0],i=t.scale[1],o=t.translate[0],u=t.translate[1];return function(t,a){a||(n=e=0);var c=2,l=t.length,s=new Array(l);for(s[0]=(n+=t[0])*r+o,s[1]=(e+=t[1])*i+u;c<l;)s[c]=t[c],++c;return s}}(t.transform),r=t.arcs;function i(t,n){n.length&&n.pop();for(var i=r[t<0?~t:t],o=0,u=i.length;o<u;++o)n.push(e(i[o],o));t<0&&function(t,n){for(var e,r=t.length,i=r-n;i<--r;)e=t[i],t[i++]=t[r],t[r]=e}(n,u)}function o(t){return e(t)}function u(t){for(var n=[],e=0,r=t.length;e<r;++e)i(t[e],n);return n.length<2&&n.push(n[0]),n}function a(t){for(var n=u(t);n.length<4;)n.push(n[0]);return n}function c(t){return t.map(a)}return function t(n){var e,r=n.type;switch(r){case"GeometryCollection":return{type:r,geometries:n.geometries.map(t)};case"Point":e=o(n.coordinates);break;case"MultiPoint":e=n.coordinates.map(o);break;case"LineString":e=u(n.arcs);break;case"MultiLineString":e=n.arcs.map(u);break;case"Polygon":e=c(n.arcs);break;case"MultiPolygon":e=n.arcs.map(c);break;default:return null}return{type:r,coordinates:e}}(n)}(t,n);return null==e&&null==r?{type:"Feature",properties:i,geometry:o}:null==r?{type:"Feature",id:e,properties:i,geometry:o}:{type:"Feature",id:e,bbox:r,properties:i,geometry:o}}var V={value:function(){}};function X(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new G(r)}function G(t){this._=t}function Y(t,n){return t.trim().split(/^|\s+/).map((function(t){var e="",r=t.indexOf(".");if(r>=0&&(e=t.slice(r+1),t=t.slice(0,r)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))}function W(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function Z(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=V,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}G.prototype=X.prototype={constructor:G,on:function(t,n){var e,r=this._,i=Y(t+"",r),o=-1,u=i.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++o<u;)if(e=(t=i[o]).type)r[e]=Z(r[e],t.name,n);else if(null==n)for(e in r)r[e]=Z(r[e],t.name,null);return this}for(;++o<u;)if((e=(t=i[o]).type)&&(e=W(r[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new G(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,i=new Array(e),o=0;o<e;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,e=(r=this._[t]).length;o<e;++o)r[o].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};var J="http://www.w3.org/1999/xhtml",K={svg:"http://www.w3.org/2000/svg",xhtml:J,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Q(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),K.hasOwnProperty(n)?{space:K[n],local:t}:t}function tt(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===J&&n.documentElement.namespaceURI===J?n.createElement(t):n.createElementNS(e,t)}}function nt(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function et(t){var n=Q(t);return(n.local?nt:tt)(n)}function rt(){}function it(t){return null==t?rt:function(){return this.querySelector(t)}}function ot(){return[]}function ut(t){return new Array(t.length)}function at(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}at.prototype={constructor:at,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function ct(t,n,e,r,i,o){for(var u,a=0,c=n.length,l=o.length;a<l;++a)(u=n[a])?(u.__data__=o[a],r[a]=u):e[a]=new at(t,o[a]);for(;a<c;++a)(u=n[a])&&(i[a]=u)}function lt(t,n,e,r,i,o,u){var a,c,l,s={},f=n.length,h=o.length,p=new Array(f);for(a=0;a<f;++a)(c=n[a])&&(p[a]=l="$"+u.call(c,c.__data__,a,n),l in s?i[a]=c:s[l]=c);for(a=0;a<h;++a)(c=s[l="$"+u.call(t,o[a],a,o)])?(r[a]=c,c.__data__=o[a],s[l]=null):e[a]=new at(t,o[a]);for(a=0;a<f;++a)(c=n[a])&&s[p[a]]===c&&(i[a]=c)}function st(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function ft(t){return function(){this.removeAttribute(t)}}function ht(t){return function(){this.removeAttributeNS(t.space,t.local)}}function pt(t,n){return function(){this.setAttribute(t,n)}}function dt(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function gt(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function vt(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function mt(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function yt(t){return function(){this.style.removeProperty(t)}}function wt(t,n,e){return function(){this.style.setProperty(t,n,e)}}function bt(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function _t(t,n){return t.style.getPropertyValue(n)||mt(t).getComputedStyle(t,null).getPropertyValue(n)}function xt(t){return function(){delete this[t]}}function Mt(t,n){return function(){this[t]=n}}function Et(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function St(t){return t.trim().split(/^|\s+/)}function Nt(t){return t.classList||new kt(t)}function kt(t){this._node=t,this._names=St(t.getAttribute("class")||"")}function At(t,n){for(var e=Nt(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function jt(t,n){for(var e=Nt(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function $t(t){return function(){At(this,t)}}function Ct(t){return function(){jt(this,t)}}function Pt(t,n){return function(){(n.apply(this,arguments)?At:jt)(this,t)}}function Tt(){this.textContent=""}function Rt(t){return function(){this.textContent=t}}function Lt(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function Dt(){this.innerHTML=""}function Ot(t){return function(){this.innerHTML=t}}function qt(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function zt(){this.nextSibling&&this.parentNode.appendChild(this)}function Bt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function It(){return null}function Ft(){var t=this.parentNode;t&&t.removeChild(this)}function Ut(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Ht(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}kt.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Vt={},Xt=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(Vt={mouseenter:"mouseover",mouseleave:"mouseout"}));function Gt(t,n,e){return t=Yt(t,n,e),function(n){var e=n.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||t.call(this,n)}}function Yt(t,n,e){return function(r){var i=Xt;Xt=r;try{t.call(this,this.__data__,n,e)}finally{Xt=i}}}function Wt(t){return t.trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}}))}function Zt(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,o=n.length;r<o;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.capture);++i?n.length=i:delete this.__on}}}function Jt(t,n,e){var r=Vt.hasOwnProperty(t.type)?Gt:Yt;return function(i,o,u){var a,c=this.__on,l=r(n,o,u);if(c)for(var s=0,f=c.length;s<f;++s)if((a=c[s]).type===t.type&&a.name===t.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=l,a.capture=e),void(a.value=n);this.addEventListener(t.type,l,e),a={type:t.type,name:t.name,value:n,listener:l,capture:e},c?c.push(a):this.__on=[a]}}function Kt(t,n,e,r){var i=Xt;t.sourceEvent=Xt,Xt=t;try{return n.apply(e,r)}finally{Xt=i}}function Qt(t,n,e){var r=mt(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function tn(t,n){return function(){return Qt(this,t,n)}}function nn(t,n){return function(){return Qt(this,t,n.apply(this,arguments))}}var en=[null];function rn(t,n){this._groups=t,this._parents=n}function on(t){return"string"==typeof t?new rn([[document.querySelector(t)]],[document.documentElement]):new rn([[t]],en)}function un(){for(var t,n=Xt;t=n.sourceEvent;)n=t;return n}function an(t,n){var e=t.ownerSVGElement||t;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=n.clientX,r.y=n.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[n.clientX-i.left-t.clientLeft,n.clientY-i.top-t.clientTop]}function cn(t){var n=un();return n.changedTouches&&(n=n.changedTouches[0]),an(t,n)}function ln(t,n,e){arguments.length<3&&(e=n,n=un().changedTouches);for(var r,i=0,o=n?n.length:0;i<o;++i)if((r=n[i]).identifier===e)return an(t,r);return null}function sn(){Xt.stopImmediatePropagation()}function fn(){Xt.preventDefault(),Xt.stopImmediatePropagation()}function hn(t){var n=t.document.documentElement,e=on(t).on("dragstart.drag",fn,!0);"onselectstart"in n?e.on("selectstart.drag",fn,!0):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function pn(t){return function(){return t}}function dn(t,n,e,r,i,o,u,a,c,l){this.target=t,this.type=n,this.subject=e,this.identifier=r,this.active=i,this.x=o,this.y=u,this.dx=a,this.dy=c,this._=l}function gn(){return!Xt.ctrlKey&&!Xt.button}function vn(){return this.parentNode}function mn(t){return null==t?{x:Xt.x,y:Xt.y}:t}function yn(){return navigator.maxTouchPoints||"ontouchstart"in this}function wn(){var t,n,e,r,i=gn,o=vn,u=mn,a=yn,c={},l=X("start","drag","end"),s=0,f=0;function h(t){t.on("mousedown.drag",p).filter(a).on("touchstart.drag",v).on("touchmove.drag",m).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(){if(!r&&i.apply(this,arguments)){var u=w("mouse",o.apply(this,arguments),cn,this,arguments);u&&(on(Xt.view).on("mousemove.drag",d,!0).on("mouseup.drag",g,!0),hn(Xt.view),sn(),e=!1,t=Xt.clientX,n=Xt.clientY,u("start"))}}function d(){if(fn(),!e){var r=Xt.clientX-t,i=Xt.clientY-n;e=r*r+i*i>f}c.mouse("drag")}function g(){on(Xt.view).on("mousemove.drag mouseup.drag",null),function(t,n){var e=t.document.documentElement,r=on(t).on("dragstart.drag",null);n&&(r.on("click.drag",fn,!0),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in e?r.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}(Xt.view,e),fn(),c.mouse("end")}function v(){if(i.apply(this,arguments)){var t,n,e=Xt.changedTouches,r=o.apply(this,arguments),u=e.length;for(t=0;t<u;++t)(n=w(e[t].identifier,r,ln,this,arguments))&&(sn(),n("start"))}}function m(){var t,n,e=Xt.changedTouches,r=e.length;for(t=0;t<r;++t)(n=c[e[t].identifier])&&(fn(),n("drag"))}function y(){var t,n,e=Xt.changedTouches,i=e.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),t=0;t<i;++t)(n=c[e[t].identifier])&&(sn(),n("end"))}function w(t,n,e,r,i){var o,a,f,p=e(n,t),d=l.copy();if(Kt(new dn(h,"beforestart",o,t,s,p[0],p[1],0,0,d),(function(){return null!=(Xt.subject=o=u.apply(r,i))&&(a=o.x-p[0]||0,f=o.y-p[1]||0,!0)})))return function u(l){var g,v=p;switch(l){case"start":c[t]=u,g=s++;break;case"end":delete c[t],--s;case"drag":p=e(n,t),g=s}Kt(new dn(h,l,o,t,g,p[0]+a,p[1]+f,p[0]-v[0],p[1]-v[1],d),d.apply,d,[l,r,i])}}return h.filter=function(t){return arguments.length?(i="function"==typeof t?t:pn(!!t),h):i},h.container=function(t){return arguments.length?(o="function"==typeof t?t:pn(t),h):o},h.subject=function(t){return arguments.length?(u="function"==typeof t?t:pn(t),h):u},h.touchable=function(t){return arguments.length?(a="function"==typeof t?t:pn(!!t),h):a},h.on=function(){var t=l.on.apply(l,arguments);return t===l?h:t},h.clickDistance=function(t){return arguments.length?(f=(t=+t)*t,h):Math.sqrt(f)},h}function bn(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}rn.prototype=function(){return new rn([[document.documentElement]],en)}.prototype={constructor:rn,select:function(t){"function"!=typeof t&&(t=it(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,u,a=n[i],c=a.length,l=r[i]=new Array(c),s=0;s<c;++s)(o=a[s])&&(u=t.call(o,o.__data__,s,a))&&("__data__"in o&&(u.__data__=o.__data__),l[s]=u);return new rn(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=function(t){return null==t?ot:function(){return this.querySelectorAll(t)}}(t));for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var u,a=n[o],c=a.length,l=0;l<c;++l)(u=a[l])&&(r.push(t.call(u,u.__data__,l,a)),i.push(u));return new rn(r,i)},filter:function(t){"function"!=typeof t&&(t=function(t){return function(){return this.matches(t)}}(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,u=n[i],a=u.length,c=r[i]=[],l=0;l<a;++l)(o=u[l])&&t.call(o,o.__data__,l,u)&&c.push(o);return new rn(r,this._parents)},data:function(t,n){if(!t)return d=new Array(this.size()),s=-1,this.each((function(t){d[++s]=t})),d;var e,r=n?lt:ct,i=this._parents,o=this._groups;"function"!=typeof t&&(e=t,t=function(){return e});for(var u=o.length,a=new Array(u),c=new Array(u),l=new Array(u),s=0;s<u;++s){var f=i[s],h=o[s],p=h.length,d=t.call(f,f&&f.__data__,s,i),g=d.length,v=c[s]=new Array(g),m=a[s]=new Array(g);r(f,h,v,m,l[s]=new Array(p),d,n);for(var y,w,b=0,_=0;b<g;++b)if(y=v[b]){for(b>=_&&(_=b+1);!(w=m[_])&&++_<g;);y._next=w||null}}return(a=new rn(a,i))._enter=c,a._exit=l,a},enter:function(){return new rn(this._enter||this._groups.map(ut),this._parents)},exit:function(){return new rn(this._exit||this._groups.map(ut),this._parents)},join:function(t,n,e){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=n&&(i=n(i)),null==e?o.remove():e(o),r&&i?r.merge(i).order():i},merge:function(t){for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),u=new Array(r),a=0;a<o;++a)for(var c,l=n[a],s=e[a],f=l.length,h=u[a]=new Array(f),p=0;p<f;++p)(c=l[p]||s[p])&&(h[p]=c);for(;a<r;++a)u[a]=n[a];return new rn(u,this._parents)},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,u=i[o];--o>=0;)(r=i[o])&&(u&&4^r.compareDocumentPosition(u)&&u.parentNode.insertBefore(r,u),u=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=st);for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var u,a=e[o],c=a.length,l=i[o]=new Array(c),s=0;s<c;++s)(u=a[s])&&(l[s]=u);l.sort(n)}return new rn(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),n=-1;return this.each((function(){t[++n]=this})),t},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var u=r[i];if(u)return u}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],u=0,a=o.length;u<a;++u)(i=o[u])&&t.call(i,i.__data__,u,o);return this},attr:function(t,n){var e=Q(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?ht:ft:"function"==typeof n?e.local?vt:gt:e.local?dt:pt)(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?yt:"function"==typeof n?bt:wt)(t,n,null==e?"":e)):_t(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?xt:"function"==typeof n?Et:Mt)(t,n)):this.node()[t]},classed:function(t,n){var e=St(t+"");if(arguments.length<2){for(var r=Nt(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?Pt:n?$t:Ct)(e,n))},text:function(t){return arguments.length?this.each(null==t?Tt:("function"==typeof t?Lt:Rt)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Dt:("function"==typeof t?qt:Ot)(t)):this.node().innerHTML},raise:function(){return this.each(zt)},lower:function(){return this.each(Bt)},append:function(t){var n="function"==typeof t?t:et(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))},insert:function(t,n){var e="function"==typeof t?t:et(t),r=null==n?It:"function"==typeof n?n:it(n);return this.select((function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(Ft)},clone:function(t){return this.select(t?Ht:Ut)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,o=Wt(t+""),u=o.length;if(!(arguments.length<2)){for(a=n?Jt:Zt,null==e&&(e=!1),r=0;r<u;++r)this.each(a(o[r],n,e));return this}var a=this.node().__on;if(a)for(var c,l=0,s=a.length;l<s;++l)for(r=0,c=a[l];r<u;++r)if((i=o[r]).type===c.type&&i.name===c.name)return c.value},dispatch:function(t,n){return this.each(("function"==typeof n?nn:tn)(t,n))}},dn.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var _n,xn,Mn=(1===(_n=bn).length&&(xn=_n,_n=function(t,n){return bn(xn(t),n)}),{left:function(t,n,e,r){for(null==e&&(e=0),null==r&&(r=t.length);e<r;){var i=e+r>>>1;_n(t[i],n)<0?e=i+1:r=i}return e},right:function(t,n,e,r){for(null==e&&(e=0),null==r&&(r=t.length);e<r;){var i=e+r>>>1;_n(t[i],n)>0?r=i:e=i+1}return e}}).right;function En(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=0|Math.max(0,Math.ceil((n-t)/e)),o=new Array(i);++r<i;)o[r]=t+r*e;return o}var Sn=Math.sqrt(50),Nn=Math.sqrt(10),kn=Math.sqrt(2);function An(t,n,e){var r=(n-t)/Math.max(0,e),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=Sn?10:o>=Nn?5:o>=kn?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=Sn?10:o>=Nn?5:o>=kn?2:1)}function jn(t){for(var n,e,r,i=t.length,o=-1,u=0;++o<i;)u+=t[o].length;for(e=new Array(u);--i>=0;)for(n=(r=t[i]).length;--n>=0;)e[--u]=r[n];return e}function $n(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t)}return this}function Cn(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function Pn(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function Tn(){}var Rn="\\s*([+-]?\\d+)\\s*",Ln="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Dn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",On=/^#([0-9a-f]{3,8})$/,qn=new RegExp("^rgb\\("+[Rn,Rn,Rn]+"\\)$"),zn=new RegExp("^rgb\\("+[Dn,Dn,Dn]+"\\)$"),Bn=new RegExp("^rgba\\("+[Rn,Rn,Rn,Ln]+"\\)$"),In=new RegExp("^rgba\\("+[Dn,Dn,Dn,Ln]+"\\)$"),Fn=new RegExp("^hsl\\("+[Ln,Dn,Dn]+"\\)$"),Un=new RegExp("^hsla\\("+[Ln,Dn,Dn,Ln]+"\\)$"),Hn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Vn(){return this.rgb().formatHex()}function Xn(){return this.rgb().formatRgb()}function Gn(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=On.exec(t))?(e=n[1].length,n=parseInt(n[1],16),6===e?Yn(n):3===e?new Kn(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===e?new Kn(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===e?new Kn(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=qn.exec(t))?new Kn(n[1],n[2],n[3],1):(n=zn.exec(t))?new Kn(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=Bn.exec(t))?Wn(n[1],n[2],n[3],n[4]):(n=In.exec(t))?Wn(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=Fn.exec(t))?ee(n[1],n[2]/100,n[3]/100,1):(n=Un.exec(t))?ee(n[1],n[2]/100,n[3]/100,n[4]):Hn.hasOwnProperty(t)?Yn(Hn[t]):"transparent"===t?new Kn(NaN,NaN,NaN,0):null}function Yn(t){return new Kn(t>>16&255,t>>8&255,255&t,1)}function Wn(t,n,e,r){return r<=0&&(t=n=e=NaN),new Kn(t,n,e,r)}function Zn(t){return t instanceof Tn||(t=Gn(t)),t?new Kn((t=t.rgb()).r,t.g,t.b,t.opacity):new Kn}function Jn(t,n,e,r){return 1===arguments.length?Zn(t):new Kn(t,n,e,null==r?1:r)}function Kn(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function Qn(){return"#"+ne(this.r)+ne(this.g)+ne(this.b)}function te(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function ne(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function ee(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new ie(t,n,e,r)}function re(t){if(t instanceof ie)return new ie(t.h,t.s,t.l,t.opacity);if(t instanceof Tn||(t=Gn(t)),!t)return new ie;if(t instanceof ie)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),u=NaN,a=o-i,c=(o+i)/2;return a?(u=n===o?(e-r)/a+6*(e<r):e===o?(r-n)/a+2:(n-e)/a+4,a/=c<.5?o+i:2-o-i,u*=60):a=c>0&&c<1?0:u,new ie(u,a,c,t.opacity)}function ie(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function oe(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}function ue(t){return function(){return t}}function ae(t){return 1==(t=+t)?ce:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}(n,e,t):ue(isNaN(n)?e:n)}}function ce(t,n){var e=n-t;return e?function(t,n){return function(e){return t+e*n}}(t,e):ue(isNaN(t)?n:t)}Cn(Tn,Gn,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Vn,formatHex:Vn,formatHsl:function(){return re(this).formatHsl()},formatRgb:Xn,toString:Xn}),Cn(Kn,Jn,Pn(Tn,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Kn(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Kn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Qn,formatHex:Qn,formatRgb:te,toString:te})),Cn(ie,(function(t,n,e,r){return 1===arguments.length?re(t):new ie(t,n,e,null==r?1:r)}),Pn(Tn,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new ie(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new ie(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new Kn(oe(t>=240?t-240:t+120,i,r),oe(t,i,r),oe(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var le=function t(n){var e=ae(n);function r(t,n){var r=e((t=Jn(t)).r,(n=Jn(n)).r),i=e(t.g,n.g),o=e(t.b,n.b),u=ce(t.opacity,n.opacity);return function(n){return t.r=r(n),t.g=i(n),t.b=o(n),t.opacity=u(n),t+""}}return r.gamma=t,r}(1);function se(t,n){n||(n=[]);var e,r=t?Math.min(n.length,t.length):0,i=n.slice();return function(o){for(e=0;e<r;++e)i[e]=t[e]*(1-o)+n[e]*o;return i}}function fe(t,n){var e,r=n?n.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),u=new Array(r);for(e=0;e<i;++e)o[e]=ye(t[e],n[e]);for(;e<r;++e)u[e]=n[e];return function(t){for(e=0;e<i;++e)u[e]=o[e](t);return u}}function he(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}}function pe(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function de(t,n){var e,r={},i={};for(e in null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={}),n)e in t?r[e]=ye(t[e],n[e]):i[e]=n[e];return function(t){for(e in r)i[e]=r[e](t);return i}}var ge=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ve=new RegExp(ge.source,"g");function me(t,n){var e,r,i,o=ge.lastIndex=ve.lastIndex=0,u=-1,a=[],c=[];for(t+="",n+="";(e=ge.exec(t))&&(r=ve.exec(n));)(i=r.index)>o&&(i=n.slice(o,i),a[u]?a[u]+=i:a[++u]=i),(e=e[0])===(r=r[0])?a[u]?a[u]+=r:a[++u]=r:(a[++u]=null,c.push({i:u,x:pe(e,r)})),o=ve.lastIndex;return o<n.length&&(i=n.slice(o),a[u]?a[u]+=i:a[++u]=i),a.length<2?c[0]?function(t){return function(n){return t(n)+""}}(c[0].x):function(t){return function(){return t}}(n):(n=c.length,function(t){for(var e,r=0;r<n;++r)a[(e=c[r]).i]=e.x(t);return a.join("")})}function ye(t,n){var e,r,i=typeof n;return null==n||"boolean"===i?ue(n):("number"===i?pe:"string"===i?(e=Gn(n))?(n=e,le):me:n instanceof Gn?le:n instanceof Date?he:(r=n,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(n)?fe:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?de:pe:se))(t,n)}function we(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}function be(t){return+t}var _e=[0,1];function xe(t){return t}function Me(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:(e=isNaN(n)?NaN:.5,function(){return e});var e}function Ee(t,n,e){var r=t[0],i=t[1],o=n[0],u=n[1];return i<r?(r=Me(i,r),o=e(u,o)):(r=Me(r,i),o=e(o,u)),function(t){return o(r(t))}}function Se(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),o=new Array(r),u=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++u<r;)i[u]=Me(t[u],t[u+1]),o[u]=e(n[u],n[u+1]);return function(n){var e=Mn(t,n,1,r)-1;return o[e](i[e](n))}}function Ne(){var t,n,e,r,i,o,u=_e,a=_e,c=ye,l=xe;function s(){var t,n,e,c=Math.min(u.length,a.length);return l!==xe&&(t=u[0],n=u[c-1],t>n&&(e=t,t=n,n=e),l=function(e){return Math.max(t,Math.min(n,e))}),r=c>2?Se:Ee,i=o=null,f}function f(n){return isNaN(n=+n)?e:(i||(i=r(u.map(t),a,c)))(t(l(n)))}return f.invert=function(e){return l(n((o||(o=r(a,u.map(t),pe)))(e)))},f.domain=function(t){return arguments.length?(u=Array.from(t,be),s()):u.slice()},f.range=function(t){return arguments.length?(a=Array.from(t),s()):a.slice()},f.rangeRound=function(t){return a=Array.from(t),c=we,s()},f.clamp=function(t){return arguments.length?(l=!!t||xe,s()):l!==xe},f.interpolate=function(t){return arguments.length?(c=t,s()):c},f.unknown=function(t){return arguments.length?(e=t,f):e},function(e,r){return t=e,n=r,s()}}function ke(){return Ne()(xe,xe)}function Ae(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function je(t){return(t=Ae(Math.abs(t)))?t[1]:NaN}var $e,Ce=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Pe(t){if(!(n=Ce.exec(t)))throw new Error("invalid format: "+t);var n;return new Te({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}function Te(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Re(t,n){var e=Ae(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Pe.prototype=Te.prototype,Te.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Le={"%":function(t,n){return(100*t).toFixed(n)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},g:function(t,n){return t.toPrecision(n)},o:function(t){return Math.round(t).toString(8)},p:function(t,n){return Re(100*t,n)},r:Re,s:function(t,n){var e=Ae(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-($e=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,u=r.length;return o===u?r:o>u?r+new Array(o-u+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Ae(t,Math.max(0,n+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function De(t){return t}var Oe,qe,ze,Be=Array.prototype.map,Ie=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Fe(t){var n,e,r=void 0===t.grouping||void 0===t.thousands?De:(n=Be.call(t.grouping,Number),e=t.thousands+"",function(t,r){for(var i=t.length,o=[],u=0,a=n[0],c=0;i>0&&a>0&&(c+a+1>r&&(a=Math.max(1,r-c)),o.push(t.substring(i-=a,i+a)),!((c+=a+1)>r));)a=n[u=(u+1)%n.length];return o.reverse().join(e)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",u=void 0===t.decimal?".":t.decimal+"",a=void 0===t.numerals?De:function(t){return function(n){return n.replace(/[0-9]/g,(function(n){return t[+n]}))}}(Be.call(t.numerals,String)),c=void 0===t.percent?"%":t.percent+"",l=void 0===t.minus?"-":t.minus+"",s=void 0===t.nan?"NaN":t.nan+"";function f(t){var n=(t=Pe(t)).fill,e=t.align,f=t.sign,h=t.symbol,p=t.zero,d=t.width,g=t.comma,v=t.precision,m=t.trim,y=t.type;"n"===y?(g=!0,y="g"):Le[y]||(void 0===v&&(v=12),m=!0,y="g"),(p||"0"===n&&"="===e)&&(p=!0,n="0",e="=");var w="$"===h?i:"#"===h&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",b="$"===h?o:/[%p]/.test(y)?c:"",_=Le[y],x=/[defgprs%]/.test(y);function M(t){var i,o,c,h=w,M=b;if("c"===y)M=_(t)+M,t="";else{var E=(t=+t)<0;if(t=isNaN(t)?s:_(Math.abs(t),v),m&&(t=function(t){t:for(var n,e=t.length,r=1,i=-1;r<e;++r)switch(t[r]){case".":i=n=r;break;case"0":0===i&&(i=r),n=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(n+1):t}(t)),E&&0==+t&&(E=!1),h=(E?"("===f?f:l:"-"===f||"("===f?"":f)+h,M=("s"===y?Ie[8+$e/3]:"")+M+(E&&"("===f?")":""),x)for(i=-1,o=t.length;++i<o;)if(48>(c=t.charCodeAt(i))||c>57){M=(46===c?u+t.slice(i+1):t.slice(i))+M,t=t.slice(0,i);break}}g&&!p&&(t=r(t,1/0));var S=h.length+t.length+M.length,N=S<d?new Array(d-S+1).join(n):"";switch(g&&p&&(t=r(N+t,N.length?d-M.length:1/0),N=""),e){case"<":t=h+t+M+N;break;case"=":t=h+N+t+M;break;case"^":t=N.slice(0,S=N.length>>1)+h+t+M+N.slice(S);break;default:t=N+h+t+M}return a(t)}return v=void 0===v?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v)),M.toString=function(){return t+""},M}return{format:f,formatPrefix:function(t,n){var e=f(((t=Pe(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(je(n)/3))),i=Math.pow(10,-r),o=Ie[8+r/3];return function(t){return e(i*t)+o}}}}function Ue(t,n,e,r){var i,o=function(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=Sn?i*=10:o>=Nn?i*=5:o>=kn&&(i*=2),n<t?-i:i}(t,n,e);switch((r=Pe(null==r?",f":r)).type){case"s":var u=Math.max(Math.abs(t),Math.abs(n));return null!=r.precision||isNaN(i=function(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(je(n)/3)))-je(Math.abs(t)))}(o,u))||(r.precision=i),ze(r,u);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,je(n)-je(t))+1}(o,Math.max(Math.abs(t),Math.abs(n))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-je(Math.abs(t)))}(o))||(r.precision=i-2*("%"===r.type))}return qe(r)}function He(t){var n=t.domain;return t.ticks=function(t){var e=n();return function(t,n,e){var r,i,o,u,a=-1;if(e=+e,(t=+t)===(n=+n)&&e>0)return[t];if((r=n<t)&&(i=t,t=n,n=i),0===(u=An(t,n,e))||!isFinite(u))return[];if(u>0)for(t=Math.ceil(t/u),n=Math.floor(n/u),o=new Array(i=Math.ceil(n-t+1));++a<i;)o[a]=(t+a)*u;else for(t=Math.floor(t*u),n=Math.ceil(n*u),o=new Array(i=Math.ceil(t-n+1));++a<i;)o[a]=(t-a)/u;return r&&o.reverse(),o}(e[0],e[e.length-1],null==t?10:t)},t.tickFormat=function(t,e){var r=n();return Ue(r[0],r[r.length-1],null==t?10:t,e)},t.nice=function(e){null==e&&(e=10);var r,i=n(),o=0,u=i.length-1,a=i[o],c=i[u];return c<a&&(r=a,a=c,c=r,r=o,o=u,u=r),(r=An(a,c,e))>0?r=An(a=Math.floor(a/r)*r,c=Math.ceil(c/r)*r,e):r<0&&(r=An(a=Math.ceil(a*r)/r,c=Math.floor(c*r)/r,e)),r>0?(i[o]=Math.floor(a/r)*r,i[u]=Math.ceil(c/r)*r,n(i)):r<0&&(i[o]=Math.ceil(a*r)/r,i[u]=Math.floor(c*r)/r,n(i)),t},t}function Ve(t){return Math.sign(t)*t*t}function Xe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function Ge(){return new Ye}function Ye(){this.reset()}Oe=Fe({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),qe=Oe.format,ze=Oe.formatPrefix,Ye.prototype={constructor:Ye,reset:function(){this.s=this.t=0},add:function(t){Ze(We,t,this.t),Ze(this,We.s,this.s),this.s?this.t+=We.t:this.s=We.t},valueOf:function(){return this.s}};var We=new Ye;function Ze(t,n,e){var r=t.s=n+e,i=r-n,o=r-i;t.t=n-o+(e-i)}var Je=Math.PI,Ke=Je/2,Qe=Je/4,tr=2*Je,nr=180/Je,er=Je/180,rr=Math.abs,ir=Math.atan,or=Math.atan2,ur=Math.cos,ar=Math.ceil,cr=Math.sin,lr=Math.sign||function(t){return t>0?1:t<0?-1:0},sr=Math.sqrt;function fr(t){return t>1?Ke:t<-1?-Ke:Math.asin(t)}function hr(){}function pr(t,n){t&&gr.hasOwnProperty(t.type)&&gr[t.type](t,n)}var dr={Feature:function(t,n){pr(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)pr(e[r].geometry,n)}},gr={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){vr(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)vr(e[r],n,0)},Polygon:function(t,n){mr(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)mr(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)pr(e[r],n)}};function vr(t,n,e){var r,i=-1,o=t.length-e;for(n.lineStart();++i<o;)r=t[i],n.point(r[0],r[1],r[2]);n.lineEnd()}function mr(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)vr(t[e],n,1);n.polygonEnd()}function yr(t,n){t&&dr.hasOwnProperty(t.type)?dr[t.type](t,n):pr(t,n)}function wr(t){return[or(t[1],t[0]),fr(t[2])]}function br(t){var n=t[0],e=t[1],r=ur(e);return[r*ur(n),r*cr(n),cr(e)]}function _r(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function xr(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function Mr(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function Er(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function Sr(t){var n=sr(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}function Nr(t){return function(){return t}}function kr(t,n){function e(e,r){return e=t(e,r),n(e[0],e[1])}return t.invert&&n.invert&&(e.invert=function(e,r){return(e=n.invert(e,r))&&t.invert(e[0],e[1])}),e}function Ar(t,n){return[rr(t)>Je?t+Math.round(-t/tr)*tr:t,n]}function jr(t,n,e){return(t%=tr)?n||e?kr(Cr(t),Pr(n,e)):Cr(t):n||e?Pr(n,e):Ar}function $r(t){return function(n,e){return[(n+=t)>Je?n-tr:n<-Je?n+tr:n,e]}}function Cr(t){var n=$r(t);return n.invert=$r(-t),n}function Pr(t,n){var e=ur(t),r=cr(t),i=ur(n),o=cr(n);function u(t,n){var u=ur(n),a=ur(t)*u,c=cr(t)*u,l=cr(n),s=l*e+a*r;return[or(c*i-s*o,a*e-l*r),fr(s*i+c*o)]}return u.invert=function(t,n){var u=ur(n),a=ur(t)*u,c=cr(t)*u,l=cr(n),s=l*i-c*o;return[or(c*i+l*o,a*e+s*r),fr(s*e-a*r)]},u}function Tr(t,n,e,r,i,o){if(e){var u=ur(n),a=cr(n),c=r*e;null==i?(i=n+r*tr,o=n-c/2):(i=Rr(u,i),o=Rr(u,o),(r>0?i<o:i>o)&&(i+=r*tr));for(var l,s=i;r>0?s>o:s<o;s-=c)l=wr([u,-a*ur(s),-a*cr(s)]),t.point(l[0],l[1])}}function Rr(t,n){(n=br(n))[0]-=t,Sr(n);var e,r=(e=-n[1])>1?0:e<-1?Je:Math.acos(e);return((-n[2]<0?-r:r)+tr-1e-6)%tr}function Lr(){var t,n=[];return{point:function(n,e){t.push([n,e])},lineStart:function(){n.push(t=[])},lineEnd:hr,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var e=n;return n=[],t=null,e}}}function Dr(t,n){return rr(t[0]-n[0])<1e-6&&rr(t[1]-n[1])<1e-6}function Or(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function qr(t,n,e,r,i){var o,u,a=[],c=[];if(t.forEach((function(t){if(!((n=t.length-1)<=0)){var n,e,r=t[0],u=t[n];if(Dr(r,u)){for(i.lineStart(),o=0;o<n;++o)i.point((r=t[o])[0],r[1]);i.lineEnd()}else a.push(e=new Or(r,t,null,!0)),c.push(e.o=new Or(r,null,e,!1)),a.push(e=new Or(u,t,null,!1)),c.push(e.o=new Or(u,null,e,!0))}})),a.length){for(c.sort(n),zr(a),zr(c),o=0,u=c.length;o<u;++o)c[o].e=e=!e;for(var l,s,f=a[0];;){for(var h=f,p=!0;h.v;)if((h=h.n)===f)return;l=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(o=0,u=l.length;o<u;++o)i.point((s=l[o])[0],s[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(p)for(l=h.p.z,o=l.length-1;o>=0;--o)i.point((s=l[o])[0],s[1]);else r(h.x,h.p.x,-1,i);h=h.p}l=(h=h.o).z,p=!p}while(!h.v);i.lineEnd()}}}function zr(t){if(n=t.length){for(var n,e,r=0,i=t[0];++r<n;)i.n=e=t[r],e.p=i,i=e;i.n=e=t[0],e.p=i}}Ar.invert=Ar;var Br=Ge();function Ir(t){return rr(t[0])<=Je?t[0]:lr(t[0])*((rr(t[0])+Je)%tr-Je)}function Fr(t,n,e,r){return function(i){var o,u,a,c=n(i),l=Lr(),s=n(l),f=!1,h={point:p,lineStart:g,lineEnd:v,polygonStart:function(){h.point=m,h.lineStart=y,h.lineEnd=w,u=[],o=[]},polygonEnd:function(){h.point=p,h.lineStart=g,h.lineEnd=v,u=jn(u);var t=function(t,n){var e=Ir(n),r=n[1],i=cr(r),o=[cr(e),-ur(e),0],u=0,a=0;Br.reset(),1===i?r=Ke+1e-6:-1===i&&(r=-Ke-1e-6);for(var c=0,l=t.length;c<l;++c)if(f=(s=t[c]).length)for(var s,f,h=s[f-1],p=Ir(h),d=h[1]/2+Qe,g=cr(d),v=ur(d),m=0;m<f;++m,p=w,g=_,v=x,h=y){var y=s[m],w=Ir(y),b=y[1]/2+Qe,_=cr(b),x=ur(b),M=w-p,E=M>=0?1:-1,S=E*M,N=S>Je,k=g*_;if(Br.add(or(k*E*cr(S),v*x+k*ur(S))),u+=N?M+E*tr:M,N^p>=e^w>=e){var A=xr(br(h),br(y));Sr(A);var j=xr(o,A);Sr(j);var $=(N^M>=0?-1:1)*fr(j[2]);(r>$||r===$&&(A[0]||A[1]))&&(a+=N^M>=0?1:-1)}}return(u<-1e-6||u<1e-6&&Br<-1e-6)^1&a}(o,r);u.length?(f||(i.polygonStart(),f=!0),qr(u,Hr,t,e,i)):t&&(f||(i.polygonStart(),f=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),f&&(i.polygonEnd(),f=!1),u=o=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function p(n,e){t(n,e)&&i.point(n,e)}function d(t,n){c.point(t,n)}function g(){h.point=d,c.lineStart()}function v(){h.point=p,c.lineEnd()}function m(t,n){a.push([t,n]),s.point(t,n)}function y(){s.lineStart(),a=[]}function w(){m(a[0][0],a[0][1]),s.lineEnd();var t,n,e,r,c=s.clean(),h=l.result(),p=h.length;if(a.pop(),o.push(a),a=null,p)if(1&c){if((n=(e=h[0]).length-1)>0){for(f||(i.polygonStart(),f=!0),i.lineStart(),t=0;t<n;++t)i.point((r=e[t])[0],r[1]);i.lineEnd()}}else p>1&&2&c&&h.push(h.pop().concat(h.shift())),u.push(h.filter(Ur))}return h}}function Ur(t){return t.length>1}function Hr(t,n){return((t=t.x)[0]<0?t[1]-Ke-1e-6:Ke-t[1])-((n=n.x)[0]<0?n[1]-Ke-1e-6:Ke-n[1])}var Vr=Fr((function(){return!0}),(function(t){var n,e=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),n=1},point:function(o,u){var a=o>0?Je:-Je,c=rr(o-e);rr(c-Je)<1e-6?(t.point(e,r=(r+u)/2>0?Ke:-Ke),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(a,r),t.point(o,r),n=0):i!==a&&c>=Je&&(rr(e-i)<1e-6&&(e-=1e-6*i),rr(o-a)<1e-6&&(o-=1e-6*a),r=function(t,n,e,r){var i,o,u=cr(t-e);return rr(u)>1e-6?ir((cr(n)*(o=ur(r))*cr(e)-cr(r)*(i=ur(n))*cr(t))/(i*o*u)):(n+r)/2}(e,r,o,u),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(a,r),n=0),t.point(e=o,r=u),i=a},lineEnd:function(){t.lineEnd(),e=r=NaN},clean:function(){return 2-n}}}),(function(t,n,e,r){var i;if(null==t)i=e*Ke,r.point(-Je,i),r.point(0,i),r.point(Je,i),r.point(Je,0),r.point(Je,-i),r.point(0,-i),r.point(-Je,-i),r.point(-Je,0),r.point(-Je,i);else if(rr(t[0]-n[0])>1e-6){var o=t[0]<n[0]?Je:-Je;i=e*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(n[0],n[1])}),[-Je,-Ke]);function Xr(t){var n=ur(t),e=6*er,r=n>0,i=rr(n)>1e-6;function o(t,e){return ur(t)*ur(e)>n}function u(t,e,r){var i=[1,0,0],o=xr(br(t),br(e)),u=_r(o,o),a=o[0],c=u-a*a;if(!c)return!r&&t;var l=n*u/c,s=-n*a/c,f=xr(i,o),h=Er(i,l);Mr(h,Er(o,s));var p=f,d=_r(h,p),g=_r(p,p),v=d*d-g*(_r(h,h)-1);if(!(v<0)){var m=sr(v),y=Er(p,(-d-m)/g);if(Mr(y,h),y=wr(y),!r)return y;var w,b=t[0],_=e[0],x=t[1],M=e[1];_<b&&(w=b,b=_,_=w);var E=_-b,S=rr(E-Je)<1e-6;if(!S&&M<x&&(w=x,x=M,M=w),S||E<1e-6?S?x+M>0^y[1]<(rr(y[0]-b)<1e-6?x:M):x<=y[1]&&y[1]<=M:E>Je^(b<=y[0]&&y[0]<=_)){var N=Er(p,(-d+m)/g);return Mr(N,h),[y,wr(N)]}}}function a(n,e){var i=r?t:Je-t,o=0;return n<-i?o|=1:n>i&&(o|=2),e<-i?o|=4:e>i&&(o|=8),o}return Fr(o,(function(t){var n,e,c,l,s;return{lineStart:function(){l=c=!1,s=1},point:function(f,h){var p,d=[f,h],g=o(f,h),v=r?g?0:a(f,h):g?a(f+(f<0?Je:-Je),h):0;if(!n&&(l=c=g)&&t.lineStart(),g!==c&&(!(p=u(n,d))||Dr(n,p)||Dr(d,p))&&(d[0]+=1e-6,d[1]+=1e-6,g=o(d[0],d[1])),g!==c)s=0,g?(t.lineStart(),p=u(d,n),t.point(p[0],p[1])):(p=u(n,d),t.point(p[0],p[1]),t.lineEnd()),n=p;else if(i&&n&&r^g){var m;v&e||!(m=u(d,n,!0))||(s=0,r?(t.lineStart(),t.point(m[0][0],m[0][1]),t.point(m[1][0],m[1][1]),t.lineEnd()):(t.point(m[1][0],m[1][1]),t.lineEnd(),t.lineStart(),t.point(m[0][0],m[0][1])))}!g||n&&Dr(n,d)||t.point(d[0],d[1]),n=d,c=g,e=v},lineEnd:function(){c&&t.lineEnd(),n=null},clean:function(){return s|(l&&c)<<1}}}),(function(n,r,i,o){Tr(o,t,e,i,n,r)}),r?[0,-t]:[-Je,t-Je])}function Gr(t,n,e,r){function i(i,o){return t<=i&&i<=e&&n<=o&&o<=r}function o(i,o,a,l){var s=0,f=0;if(null==i||(s=u(i,a))!==(f=u(o,a))||c(i,o)<0^a>0)do{l.point(0===s||3===s?t:e,s>1?r:n)}while((s=(s+a+4)%4)!==f);else l.point(o[0],o[1])}function u(r,i){return rr(r[0]-t)<1e-6?i>0?0:3:rr(r[0]-e)<1e-6?i>0?2:1:rr(r[1]-n)<1e-6?i>0?1:0:i>0?3:2}function a(t,n){return c(t.x,n.x)}function c(t,n){var e=u(t,1),r=u(n,1);return e!==r?e-r:0===e?n[1]-t[1]:1===e?t[0]-n[0]:2===e?t[1]-n[1]:n[0]-t[0]}return function(u){var c,l,s,f,h,p,d,g,v,m,y,w=u,b=Lr(),_={point:x,lineStart:function(){_.point=M,l&&l.push(s=[]);m=!0,v=!1,d=g=NaN},lineEnd:function(){c&&(M(f,h),p&&v&&b.rejoin(),c.push(b.result()));_.point=x,v&&w.lineEnd()},polygonStart:function(){w=b,c=[],l=[],y=!0},polygonEnd:function(){var n=function(){for(var n=0,e=0,i=l.length;e<i;++e)for(var o,u,a=l[e],c=1,s=a.length,f=a[0],h=f[0],p=f[1];c<s;++c)o=h,u=p,f=a[c],h=f[0],p=f[1],u<=r?p>r&&(h-o)*(r-u)>(p-u)*(t-o)&&++n:p<=r&&(h-o)*(r-u)<(p-u)*(t-o)&&--n;return n}(),e=y&&n,i=(c=jn(c)).length;(e||i)&&(u.polygonStart(),e&&(u.lineStart(),o(null,null,1,u),u.lineEnd()),i&&qr(c,a,n,o,u),u.polygonEnd());w=u,c=l=s=null}};function x(t,n){i(t,n)&&w.point(t,n)}function M(o,u){var a=i(o,u);if(l&&s.push([o,u]),m)f=o,h=u,p=a,m=!1,a&&(w.lineStart(),w.point(o,u));else if(a&&v)w.point(o,u);else{var c=[d=Math.max(-1e9,Math.min(1e9,d)),g=Math.max(-1e9,Math.min(1e9,g))],b=[o=Math.max(-1e9,Math.min(1e9,o)),u=Math.max(-1e9,Math.min(1e9,u))];!function(t,n,e,r,i,o){var u,a=t[0],c=t[1],l=0,s=1,f=n[0]-a,h=n[1]-c;if(u=e-a,f||!(u>0)){if(u/=f,f<0){if(u<l)return;u<s&&(s=u)}else if(f>0){if(u>s)return;u>l&&(l=u)}if(u=i-a,f||!(u<0)){if(u/=f,f<0){if(u>s)return;u>l&&(l=u)}else if(f>0){if(u<l)return;u<s&&(s=u)}if(u=r-c,h||!(u>0)){if(u/=h,h<0){if(u<l)return;u<s&&(s=u)}else if(h>0){if(u>s)return;u>l&&(l=u)}if(u=o-c,h||!(u<0)){if(u/=h,h<0){if(u>s)return;u>l&&(l=u)}else if(h>0){if(u<l)return;u<s&&(s=u)}return l>0&&(t[0]=a+l*f,t[1]=c+l*h),s<1&&(n[0]=a+s*f,n[1]=c+s*h),!0}}}}}(c,b,t,n,e,r)?a&&(w.lineStart(),w.point(o,u),y=!1):(v||(w.lineStart(),w.point(c[0],c[1])),w.point(b[0],b[1]),a||w.lineEnd(),y=!1)}d=o,g=u,v=a}return _}}function Yr(t,n,e){var r=En(t,n-1e-6,e).concat(n);return function(t){return r.map((function(n){return[t,n]}))}}function Wr(t,n,e){var r=En(t,n-1e-6,e).concat(n);return function(t){return r.map((function(n){return[n,t]}))}}function Zr(){var t,n,e,r,i,o,u,a,c,l,s,f,h=10,p=h,d=90,g=360,v=2.5;function m(){return{type:"MultiLineString",coordinates:y()}}function y(){return En(ar(r/d)*d,e,d).map(s).concat(En(ar(a/g)*g,u,g).map(f)).concat(En(ar(n/h)*h,t,h).filter((function(t){return rr(t%d)>1e-6})).map(c)).concat(En(ar(o/p)*p,i,p).filter((function(t){return rr(t%g)>1e-6})).map(l))}return m.lines=function(){return y().map((function(t){return{type:"LineString",coordinates:t}}))},m.outline=function(){return{type:"Polygon",coordinates:[s(r).concat(f(u).slice(1),s(e).reverse().slice(1),f(a).reverse().slice(1))]}},m.extent=function(t){return arguments.length?m.extentMajor(t).extentMinor(t):m.extentMinor()},m.extentMajor=function(t){return arguments.length?(r=+t[0][0],e=+t[1][0],a=+t[0][1],u=+t[1][1],r>e&&(t=r,r=e,e=t),a>u&&(t=a,a=u,u=t),m.precision(v)):[[r,a],[e,u]]},m.extentMinor=function(e){return arguments.length?(n=+e[0][0],t=+e[1][0],o=+e[0][1],i=+e[1][1],n>t&&(e=n,n=t,t=e),o>i&&(e=o,o=i,i=e),m.precision(v)):[[n,o],[t,i]]},m.step=function(t){return arguments.length?m.stepMajor(t).stepMinor(t):m.stepMinor()},m.stepMajor=function(t){return arguments.length?(d=+t[0],g=+t[1],m):[d,g]},m.stepMinor=function(t){return arguments.length?(h=+t[0],p=+t[1],m):[h,p]},m.precision=function(h){return arguments.length?(v=+h,c=Yr(o,i,90),l=Wr(n,t,v),s=Yr(a,u,90),f=Wr(r,e,v),m):v},m.extentMajor([[-180,1e-6-90],[180,90-1e-6]]).extentMinor([[-180,-80-1e-6],[180,80+1e-6]])}function Jr(t){return t}var Kr,Qr,ti,ni,ei=Ge(),ri=Ge(),ii={point:hr,lineStart:hr,lineEnd:hr,polygonStart:function(){ii.lineStart=oi,ii.lineEnd=ci},polygonEnd:function(){ii.lineStart=ii.lineEnd=ii.point=hr,ei.add(rr(ri)),ri.reset()},result:function(){var t=ei/2;return ei.reset(),t}};function oi(){ii.point=ui}function ui(t,n){ii.point=ai,Kr=ti=t,Qr=ni=n}function ai(t,n){ri.add(ni*t-ti*n),ti=t,ni=n}function ci(){ai(Kr,Qr)}var li=1/0,si=li,fi=-li,hi=fi,pi={point:function(t,n){t<li&&(li=t);t>fi&&(fi=t);n<si&&(si=n);n>hi&&(hi=n)},lineStart:hr,lineEnd:hr,polygonStart:hr,polygonEnd:hr,result:function(){var t=[[li,si],[fi,hi]];return fi=hi=-(si=li=1/0),t}};var di,gi,vi,mi,yi=0,wi=0,bi=0,_i=0,xi=0,Mi=0,Ei=0,Si=0,Ni=0,ki={point:Ai,lineStart:ji,lineEnd:Pi,polygonStart:function(){ki.lineStart=Ti,ki.lineEnd=Ri},polygonEnd:function(){ki.point=Ai,ki.lineStart=ji,ki.lineEnd=Pi},result:function(){var t=Ni?[Ei/Ni,Si/Ni]:Mi?[_i/Mi,xi/Mi]:bi?[yi/bi,wi/bi]:[NaN,NaN];return yi=wi=bi=_i=xi=Mi=Ei=Si=Ni=0,t}};function Ai(t,n){yi+=t,wi+=n,++bi}function ji(){ki.point=$i}function $i(t,n){ki.point=Ci,Ai(vi=t,mi=n)}function Ci(t,n){var e=t-vi,r=n-mi,i=sr(e*e+r*r);_i+=i*(vi+t)/2,xi+=i*(mi+n)/2,Mi+=i,Ai(vi=t,mi=n)}function Pi(){ki.point=Ai}function Ti(){ki.point=Li}function Ri(){Di(di,gi)}function Li(t,n){ki.point=Di,Ai(di=vi=t,gi=mi=n)}function Di(t,n){var e=t-vi,r=n-mi,i=sr(e*e+r*r);_i+=i*(vi+t)/2,xi+=i*(mi+n)/2,Mi+=i,Ei+=(i=mi*t-vi*n)*(vi+t),Si+=i*(mi+n),Ni+=3*i,Ai(vi=t,mi=n)}function Oi(t){this._context=t}Oi.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._context.moveTo(t,n),this._point=1;break;case 1:this._context.lineTo(t,n);break;default:this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,tr)}},result:hr};var qi,zi,Bi,Ii,Fi,Ui=Ge(),Hi={point:hr,lineStart:function(){Hi.point=Vi},lineEnd:function(){qi&&Xi(zi,Bi),Hi.point=hr},polygonStart:function(){qi=!0},polygonEnd:function(){qi=null},result:function(){var t=+Ui;return Ui.reset(),t}};function Vi(t,n){Hi.point=Xi,zi=Ii=t,Bi=Fi=n}function Xi(t,n){Ii-=t,Fi-=n,Ui.add(sr(Ii*Ii+Fi*Fi)),Ii=t,Fi=n}function Gi(){this._string=[]}function Yi(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Wi(t,n){var e,r,i=4.5;function o(t){return t&&("function"==typeof i&&r.pointRadius(+i.apply(this,arguments)),yr(t,e(r))),r.result()}return o.area=function(t){return yr(t,e(ii)),ii.result()},o.measure=function(t){return yr(t,e(Hi)),Hi.result()},o.bounds=function(t){return yr(t,e(pi)),pi.result()},o.centroid=function(t){return yr(t,e(ki)),ki.result()},o.projection=function(n){return arguments.length?(e=null==n?(t=null,Jr):(t=n).stream,o):t},o.context=function(t){return arguments.length?(r=null==t?(n=null,new Gi):new Oi(n=t),"function"!=typeof i&&r.pointRadius(i),o):n},o.pointRadius=function(t){return arguments.length?(i="function"==typeof t?t:(r.pointRadius(+t),+t),o):i},o.projection(t).context(n)}function Zi(t){return function(n){var e=new Ji;for(var r in t)e[r]=t[r];return e.stream=n,e}}function Ji(){}function Ki(t,n,e){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),yr(e,t.stream(pi)),n(pi.result()),null!=r&&t.clipExtent(r),t}function Qi(t,n,e){return Ki(t,(function(e){var r=n[1][0]-n[0][0],i=n[1][1]-n[0][1],o=Math.min(r/(e[1][0]-e[0][0]),i/(e[1][1]-e[0][1])),u=+n[0][0]+(r-o*(e[1][0]+e[0][0]))/2,a=+n[0][1]+(i-o*(e[1][1]+e[0][1]))/2;t.scale(150*o).translate([u,a])}),e)}Gi.prototype={_radius:4.5,_circle:Yi(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._string.push("M",t,",",n),this._point=1;break;case 1:this._string.push("L",t,",",n);break;default:null==this._circle&&(this._circle=Yi(this._radius)),this._string.push("M",t,",",n,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}},Ji.prototype={constructor:Ji,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var to=ur(30*er);function no(t,n){return+n?function(t,n){function e(r,i,o,u,a,c,l,s,f,h,p,d,g,v){var m=l-r,y=s-i,w=m*m+y*y;if(w>4*n&&g--){var b=u+h,_=a+p,x=c+d,M=sr(b*b+_*_+x*x),E=fr(x/=M),S=rr(rr(x)-1)<1e-6||rr(o-f)<1e-6?(o+f)/2:or(_,b),N=t(S,E),k=N[0],A=N[1],j=k-r,$=A-i,C=y*j-m*$;(C*C/w>n||rr((m*j+y*$)/w-.5)>.3||u*h+a*p+c*d<to)&&(e(r,i,o,u,a,c,k,A,S,b/=M,_/=M,x,g,v),v.point(k,A),e(k,A,S,b,_,x,l,s,f,h,p,d,g,v))}}return function(n){var r,i,o,u,a,c,l,s,f,h,p,d,g={point:v,lineStart:m,lineEnd:w,polygonStart:function(){n.polygonStart(),g.lineStart=b},polygonEnd:function(){n.polygonEnd(),g.lineStart=m}};function v(e,r){e=t(e,r),n.point(e[0],e[1])}function m(){s=NaN,g.point=y,n.lineStart()}function y(r,i){var o=br([r,i]),u=t(r,i);e(s,f,l,h,p,d,s=u[0],f=u[1],l=r,h=o[0],p=o[1],d=o[2],16,n),n.point(s,f)}function w(){g.point=v,n.lineEnd()}function b(){m(),g.point=_,g.lineEnd=x}function _(t,n){y(r=t,n),i=s,o=f,u=h,a=p,c=d,g.point=y}function x(){e(s,f,l,h,p,d,i,o,r,u,a,c,16,n),g.lineEnd=w,w()}return g}}(t,n):function(t){return Zi({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}(t)}var eo,ro=Zi({point:function(t,n){this.stream.point(t*er,n*er)}});function io(t,n,e){function r(r,i){return[n+t*r,e-t*i]}return r.invert=function(r,i){return[(r-n)/t,(e-i)/t]},r}function oo(t,n,e,r){var i=ur(r),o=cr(r),u=i*t,a=o*t,c=i/t,l=o/t,s=(o*e-i*n)/t,f=(o*n+i*e)/t;function h(t,r){return[u*t-a*r+n,e-a*t-u*r]}return h.invert=function(t,n){return[c*t-l*n+s,f-l*t-c*n]},h}function uo(t){return function(t){var n,e,r,i,o,u,a,c,l,s,f=150,h=480,p=250,d=0,g=0,v=0,m=0,y=0,w=0,b=null,_=Vr,x=null,M=Jr,E=.5;function S(t){return c(t[0]*er,t[1]*er)}function N(t){return(t=c.invert(t[0],t[1]))&&[t[0]*nr,t[1]*nr]}function k(){var t=oo(f,0,0,w).apply(null,n(d,g)),r=(w?oo:io)(f,h-t[0],p-t[1],w);return e=jr(v,m,y),a=kr(n,r),c=kr(e,a),u=no(a,E),A()}function A(){return l=s=null,S}return S.stream=function(t){return l&&s===t?l:l=ro(function(t){return Zi({point:function(n,e){var r=t(n,e);return this.stream.point(r[0],r[1])}})}(e)(_(u(M(s=t)))))},S.preclip=function(t){return arguments.length?(_=t,b=void 0,A()):_},S.postclip=function(t){return arguments.length?(M=t,x=r=i=o=null,A()):M},S.clipAngle=function(t){return arguments.length?(_=+t?Xr(b=t*er):(b=null,Vr),A()):b*nr},S.clipExtent=function(t){return arguments.length?(M=null==t?(x=r=i=o=null,Jr):Gr(x=+t[0][0],r=+t[0][1],i=+t[1][0],o=+t[1][1]),A()):null==x?null:[[x,r],[i,o]]},S.scale=function(t){return arguments.length?(f=+t,k()):f},S.translate=function(t){return arguments.length?(h=+t[0],p=+t[1],k()):[h,p]},S.center=function(t){return arguments.length?(d=t[0]%360*er,g=t[1]%360*er,k()):[d*nr,g*nr]},S.rotate=function(t){return arguments.length?(v=t[0]%360*er,m=t[1]%360*er,y=t.length>2?t[2]%360*er:0,k()):[v*nr,m*nr,y*nr]},S.angle=function(t){return arguments.length?(w=t%360*er,k()):w*nr},S.precision=function(t){return arguments.length?(u=no(a,E=t*t),A()):sr(E)},S.fitExtent=function(t,n){return Qi(S,t,n)},S.fitSize=function(t,n){return function(t,n,e){return Qi(t,[[0,0],n],e)}(S,t,n)},S.fitWidth=function(t,n){return function(t,n,e){return Ki(t,(function(e){var r=+n,i=r/(e[1][0]-e[0][0]),o=(r-i*(e[1][0]+e[0][0]))/2,u=-i*e[0][1];t.scale(150*i).translate([o,u])}),e)}(S,t,n)},S.fitHeight=function(t,n){return function(t,n,e){return Ki(t,(function(e){var r=+n,i=r/(e[1][1]-e[0][1]),o=-i*e[0][0],u=(r-i*(e[1][1]+e[0][1]))/2;t.scale(150*i).translate([o,u])}),e)}(S,t,n)},function(){return n=t.apply(this,arguments),S.invert=n.invert&&N,k()}}((function(){return t}))()}function ao(t,n){return[ur(n)*cr(t),cr(n)]}ao.invert=(eo=fr,function(t,n){var e=sr(t*t+n*n),r=eo(e),i=cr(r),o=ur(r);return[or(t*i,e*o),fr(e&&n*i/e)]});var co,lo,so=0,fo=0,ho=0,po=0,go=0,vo=0,mo="object"==typeof performance&&performance.now?performance:Date,yo="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function wo(){return go||(yo(bo),go=mo.now()+vo)}function bo(){go=0}function _o(){this._call=this._time=this._next=null}function xo(t,n,e){var r=new _o;return r.restart(t,n,e),r}function Mo(){go=(po=mo.now())+vo,so=fo=0;try{!function(){wo(),++so;for(var t,n=co;n;)(t=go-n._time)>=0&&n._call.call(null,t),n=n._next;--so}()}finally{so=0,function(){var t,n,e=co,r=1/0;for(;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:co=n);lo=t,So(r)}(),go=0}}function Eo(){var t=mo.now(),n=t-po;n>1e3&&(vo-=n,po=t)}function So(t){so||(fo&&(fo=clearTimeout(fo)),t-go>24?(t<1/0&&(fo=setTimeout(Mo,t-mo.now()-vo)),ho&&(ho=clearInterval(ho))):(ho||(po=mo.now(),ho=setInterval(Eo,1e3)),so=1,yo(Mo)))}function No(n){var e,r,i,o,u,a,c=n.projection,l=function(t){var n=t.time||5e3,e=-Math.log(1-1/1.0001),r={start:function(){var n=cn(this);r.position=n,r.velocity=[0,0],r.timer.stop(),this.classList.remove("inertia"),this.classList.add("dragging"),t.start&&t.start.call(this,n)},move:function(){var n=cn(this),e=performance.now(),i=e-r.time,o=1-Math.exp(-i/1e3);r.velocity=r.velocity.map((function(t,i){var u=n[i]-r.position[i],a=e-r.time;return 1e3*(1-o)*u/a+t*o})),r.time=e,r.position=n,t.move&&t.move.call(this,n)},end:function(){var i=r.velocity;if(i[0]*i[0]+i[1]*i[1]<100)return r.timer.stop(),this.classList.remove("inertia");this.classList.remove("dragging"),this.classList.add("inertia"),t.end&&t.end();var o=this;r.timer.restart((function(i){r.t=1.0001*(1-Math.exp(-e*i/n)),t.render&&t.render(r.t),r.t>1&&(r.timer.stop(),o.classList.remove("inertia"),r.velocity=[0,0],r.t=1)}))},position:[0,0],velocity:[0,0],timer:xo((function(){})),time:0};return r.timer.stop(),r}({start:function(){e=t.cartesian(c.invert(l.position)),r=c.rotate(),i=t(r),n.start&&n.start()},move:function(){var o=c.rotate(r).invert(l.position);if(!isNaN(o[0])){var u=t.cartesian(o),a=t.multiply(i,t.delta(e,u)),s=t.rotation(a);n.render(s),n.move&&n.move()}},end:function(){o=t.cartesian(c.invert(l.position.map((function(t,n){return t-l.velocity[n]/1e3})))),a=t(c.rotate()),u=t.cartesian(c.invert(l.position)),n.end&&n.end()},render:function(e){var r=t.rotation(t.multiply(a,t.delta(o,u,1e3*e)));n.render&&n.render(r)},time:n.time});return l}function ko(t){let e,r,o,u,h,v,m,w,b,_,x;return{c(){e=s("div"),r=s("canvas"),o=p(),u=f("svg"),h=f("circle"),g(r,"width",t[2]),g(r,"height",t[2]),g(r,"class","svelte-z5u5vv"),g(h,"id","placeholder"),g(h,"cx",v=t[2]/2/t[3]),g(h,"cy",m=t[2]/2/t[3]),g(h,"r",w=t[2]/2/t[3]),g(h,"class","svelte-z5u5vv"),g(u,"width",b=t[2]/t[3]),g(u,"height",_=t[2]/t[3]),g(u,"class","svelte-z5u5vv"),g(e,"class","map svelte-z5u5vv"),y(e,"drag",t[0])},m(n,i){c(n,e,i),a(e,r),t[12](r),a(e,o),a(e,u),a(u,h),x=[d(h,"mouseenter",t[4]),d(h,"mouseleave",t[5])]},p(t,[n]){4&n&&g(r,"width",t[2]),4&n&&g(r,"height",t[2]),4&n&&v!==(v=t[2]/2/t[3])&&g(h,"cx",v),4&n&&m!==(m=t[2]/2/t[3])&&g(h,"cy",m),4&n&&w!==(w=t[2]/2/t[3])&&g(h,"r",w),4&n&&b!==(b=t[2]/t[3])&&g(u,"width",b),4&n&&_!==(_=t[2]/t[3])&&g(u,"height",_),1&n&&y(e,"drag",t[0])},i:n,o:n,d(n){n&&l(e),t[12](null),i(x)}}}function Ao(t,n,e){const r=window.devicePixelRatio||1;let i=.02;const o=()=>{const t=document.body.clientWidth,n=document.body.clientHeight;return Math.min(t,.8*n)};let u,a=!1,c=o();const l={Confirmed:"#B00020",Treatment:"#dc8c50",Recovered:"#90EE02",Deaths:"#000"};let{data:s}=n,{active:f}=n,{world:h}=n;return window.addEventListener("resize",()=>{e(2,c=o())}),_((async function(){e(2,c=o()*r);const t=(n=h,"GeometryCollection"===(p=h.objects.countries).type?{type:"FeatureCollection",features:p.geometries.map((function(t){return H(n,t)}))}:H(n,p));var n,p;const d=uo(ao).scale(249.5).clipAngle(90+1e-6).rotate([-120,-20,0]).precision(.1).fitExtent([[5,5],[c-5,c-5]],{type:"Sphere"}),g=uo((t,n)=>ao(-t,n)).clipAngle(90).translate(d.translate()).scale(d.scale()),v=u.getContext("2d"),m=function t(){var n,e=ke(),r=[0,1],i=!1;function o(t){var r=Xe(e(t));return isNaN(r)?n:i?Math.round(r):r}return o.invert=function(t){return e.invert(Ve(t))},o.domain=function(t){return arguments.length?(e.domain(t),o):e.domain()},o.range=function(t){return arguments.length?(e.range((r=Array.from(t,be)).map(Ve)),o):r.slice()},o.rangeRound=function(t){return o.range(t).round(!0)},o.round=function(t){return arguments.length?(i=!!t,o):i},o.clamp=function(t){return arguments.length?(e.clamp(t),o):e.clamp()},o.unknown=function(t){return arguments.length?(n=t,o):n},o.copy=function(){return t(e.domain(),r).round(i).clamp(e.clamp()).unknown(n)},$n.apply(o,arguments),He(o)}().domain([0,1,1e5]).range([0,.5,13]),y=on("svg"),w=function(){e(2,c=o()*r);const n=Wi(d,v),i=d.rotate(),u=Wi(g.rotate([i[0]+180,-i[1],-i[2]]),v);v.clearRect(0,0,c,c),v.beginPath(),n({type:"Sphere"}),v.fillStyle="#505050",v.fill(),v.beginPath(),u(t),v.fillStyle="#6002EE",v.fill(),v.font="bold 90pt Oxanium",v.fillStyle="#000",v.textAlign="center",v.textBaseline="middle",v.fillText("COVID-19",c/2,c/2),v.beginPath(),u(Zr()()),v.lineWidth=.1,v.strokeStyle="#97b3f6",v.stroke(),v.beginPath(),n(Zr()()),v.lineWidth=.1,v.strokeStyle="#BB86FC",v.stroke(),v.beginPath(),n(t),v.globalAlpha=.9,v.fillStyle="#D4BFF9",v.fill(),v.lineWidth=1,v.strokeStyle="#7335D8",v.stroke(),v.globalAlpha=1,s.forEach(t=>{const e=parseInt(t[f]);if(e){const r=function(){var t,n,e=Nr([0,0]),r=Nr(90),i=Nr(6),o={point:function(e,r){t.push(e=n(e,r)),e[0]*=nr,e[1]*=nr}};function u(){var u=e.apply(this,arguments),a=r.apply(this,arguments)*er,c=i.apply(this,arguments)*er;return t=[],n=jr(-u[0]*er,-u[1]*er,0).invert,Tr(o,a,c,1),u={type:"Polygon",coordinates:[t]},t=n=null,u}return u.center=function(t){return arguments.length?(e="function"==typeof t?t:Nr([+t[0],+t[1]]),u):e},u.radius=function(t){return arguments.length?(r="function"==typeof t?t:Nr(+t),u):r},u.precision=function(t){return arguments.length?(i="function"==typeof t?t:Nr(+t),u):i},u}().center([t.Longitude,t.Latitude]).radius(m(e));v.beginPath(),n(r()),v.globalAlpha=.7,v.fillStyle=l[f],v.fill(),v.globalAlpha=1}}),v.beginPath(),n({type:"Sphere"}),v.lineWidth=.1,v.strokeStyle="#3700B3",v.stroke()},b=No({projection:d,render:t=>{d.rotate([t[0],-20,0])},start:()=>{e(0,a=!0)},end:()=>{e(0,a=!1)}});y.call(wn().on("start",b.start).on("drag",b.move).on("end",b.end)),v.canvas.inertia=b,xo((function(){const t=d.rotate();t[0]+=20*i,d.rotate(t),w()}))})),t.$set=t=>{"data"in t&&e(6,s=t.data),"active"in t&&e(7,f=t.active),"world"in t&&e(8,h=t.world)},[a,u,c,r,()=>{i=.005},()=>{i=.02},s,f,h,i,o,l,function(t){M[t?"unshift":"push"](()=>{e(1,u=t)})}]}_o.prototype=xo.prototype={constructor:_o,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?wo():+e)+(null==n?0:+n),this._next||lo===this||(lo?lo._next=this:co=this,lo=this),this._call=t,this._time=e,So()},stop:function(){this._call&&(this._call=null,this._time=1/0,So())}};class jo extends F{constructor(t){super(),I(this,t,Ao,ko,u,{data:6,active:7,world:8})}}var $o={},Co={};function Po(t){return new Function("d","return {"+t.map((function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'})).join(",")+"}")}function To(t){var n=Object.create(null),e=[];return t.forEach((function(t){for(var r in t)r in n||e.push(n[r]=r)})),e}function Ro(t,n){var e=t+"",r=e.length;return r<n?new Array(n-r+1).join(0)+e:e}function Lo(t){var n,e=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),o=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":((n=t.getUTCFullYear())<0?"-"+Ro(-n,6):n>9999?"+"+Ro(n,6):Ro(n,4))+"-"+Ro(t.getUTCMonth()+1,2)+"-"+Ro(t.getUTCDate(),2)+(o?"T"+Ro(e,2)+":"+Ro(r,2)+":"+Ro(i,2)+"."+Ro(o,3)+"Z":i?"T"+Ro(e,2)+":"+Ro(r,2)+":"+Ro(i,2)+"Z":r||e?"T"+Ro(e,2)+":"+Ro(r,2)+"Z":"")}var Do=function(t){var n=new RegExp('["'+t+"\n\r]"),e=t.charCodeAt(0);function r(t,n){var r,i=[],o=t.length,u=0,a=0,c=o<=0,l=!1;function s(){if(c)return Co;if(l)return l=!1,$o;var n,r,i=u;if(34===t.charCodeAt(i)){for(;u++<o&&34!==t.charCodeAt(u)||34===t.charCodeAt(++u););return(n=u)>=o?c=!0:10===(r=t.charCodeAt(u++))?l=!0:13===r&&(l=!0,10===t.charCodeAt(u)&&++u),t.slice(i+1,n-1).replace(/""/g,'"')}for(;u<o;){if(10===(r=t.charCodeAt(n=u++)))l=!0;else if(13===r)l=!0,10===t.charCodeAt(u)&&++u;else if(r!==e)continue;return t.slice(i,n)}return c=!0,t.slice(i,o)}for(10===t.charCodeAt(o-1)&&--o,13===t.charCodeAt(o-1)&&--o;(r=s())!==Co;){for(var f=[];r!==$o&&r!==Co;)f.push(r),r=s();n&&null==(f=n(f,a++))||i.push(f)}return i}function i(n,e){return n.map((function(n){return e.map((function(t){return u(n[t])})).join(t)}))}function o(n){return n.map(u).join(t)}function u(t){return null==t?"":t instanceof Date?Lo(t):n.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,n){var e,i,o=r(t,(function(t,r){if(e)return e(t,r-1);i=t,e=n?function(t,n){var e=Po(t);return function(r,i){return n(e(r),i,t)}}(t,n):Po(t)}));return o.columns=i||[],o},parseRows:r,format:function(n,e){return null==e&&(e=To(n)),[e.map(u).join(t)].concat(i(n,e)).join("\n")},formatBody:function(t,n){return null==n&&(n=To(t)),i(t,n).join("\n")},formatRows:function(t){return t.map(o).join("\n")},formatRow:o,formatValue:u}}(",").parse;function Oo(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function qo(t,n){return fetch(t,n).then(Oo)}var zo,Bo=(zo=Do,function(t,n,e){return 2===arguments.length&&"function"==typeof n&&(e=n,n=void 0),qo(t,n).then((function(t){return zo(t,e)}))});function Io(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.json()}function Fo(t,n){return fetch(t,n).then(Io)}function Uo(t){let e;return{c(){e=s("table"),e.innerHTML="<thead></thead> \n  <tbody></tbody>"},m(t,n){c(t,e,n)},p:n,i:n,o:n,d(t){t&&l(e)}}}function Ho(t,n,e){let{data:r}=n;return t.$set=t=>{"data"in t&&e(0,r=t.data)},[r]}class Vo extends F{constructor(t){super(),I(this,t,Ho,Uo,u,{data:0})}}function Xo(t){let n,e,r,o,u,f,w,b,_,x,M,E,S,N,k,A,j,$,C,P,T,R,B,I,F,U,H,V,X,G,Y,W,Z,J,K,Q,tt=t[4].Confirmed+"",nt=t[4].Treatment+"",et=t[4].Recovered+"",rt=t[4].Deaths+"";const it=new jo({props:{active:t[0],data:t[1],world:t[2]}}),ot=new Vo({});return{c(){n=s("div"),O(it.$$.fragment),e=p(),r=s("div"),o=s("label"),u=s("span"),f=h("總確診("),w=h(tt),b=h(")"),_=p(),x=s("span"),x.textContent="=",M=p(),E=s("label"),S=s("span"),N=h("治療中("),k=h(nt),A=h(")"),j=p(),$=s("span"),$.textContent="+",C=p(),P=s("label"),T=s("span"),R=h("復原("),B=h(et),I=h(")"),F=p(),U=s("span"),U.textContent="+",H=p(),V=s("label"),X=s("span"),G=h("死亡("),Y=h(rt),W=h(")"),Z=p(),J=s("div"),O(ot.$$.fragment),m(u,"background","#B00020"),g(u,"class","svelte-16byuaj"),g(o,"class","svelte-16byuaj"),y(o,"active","Confirmed"===t[0]),g(x,"class","svelte-16byuaj"),m(S,"background","#dc8c50"),g(S,"class","svelte-16byuaj"),g(E,"class","svelte-16byuaj"),y(E,"active","Treatment"===t[0]),g($,"class","svelte-16byuaj"),m(T,"background","#90EE02"),g(T,"class","svelte-16byuaj"),g(P,"class","svelte-16byuaj"),y(P,"active","Recovered"===t[0]),g(U,"class","svelte-16byuaj"),m(X,"background","#000"),g(X,"class","svelte-16byuaj"),g(V,"class","svelte-16byuaj"),y(V,"active","Deaths"===t[0]),g(r,"class","label-box svelte-16byuaj"),g(n,"class","cut svelte-16byuaj"),g(J,"class","cut svelte-16byuaj")},m(i,l){c(i,n,l),q(it,n,null),a(n,e),a(n,r),a(r,o),a(o,u),a(o,f),a(o,w),a(o,b),a(r,_),a(r,x),a(r,M),a(r,E),a(E,S),a(E,N),a(E,k),a(E,A),a(r,j),a(r,$),a(r,C),a(r,P),a(P,T),a(P,R),a(P,B),a(P,I),a(r,F),a(r,U),a(r,H),a(r,V),a(V,X),a(V,G),a(V,Y),a(V,W),c(i,Z,l),c(i,J,l),q(ot,J,null),K=!0,Q=[d(o,"click",t[5]("Confirmed")),d(E,"click",t[5]("Treatment")),d(P,"click",t[5]("Recovered")),d(V,"click",t[5]("Deaths"))]},p(t,n){const e={};1&n&&(e.active=t[0]),2&n&&(e.data=t[1]),4&n&&(e.world=t[2]),it.$set(e),(!K||16&n)&&tt!==(tt=t[4].Confirmed+"")&&v(w,tt),1&n&&y(o,"active","Confirmed"===t[0]),(!K||16&n)&&nt!==(nt=t[4].Treatment+"")&&v(k,nt),1&n&&y(E,"active","Treatment"===t[0]),(!K||16&n)&&et!==(et=t[4].Recovered+"")&&v(B,et),1&n&&y(P,"active","Recovered"===t[0]),(!K||16&n)&&rt!==(rt=t[4].Deaths+"")&&v(Y,rt),1&n&&y(V,"active","Deaths"===t[0])},i(t){K||(L(it.$$.fragment,t),L(ot.$$.fragment,t),K=!0)},o(t){D(it.$$.fragment,t),D(ot.$$.fragment,t),K=!1},d(t){t&&l(n),z(it),t&&l(Z),t&&l(J),z(ot),i(Q)}}}function Go(t){let n,e,r=t[3]&&Xo(t);return{c(){n=s("main"),r&&r.c(),g(n,"class","svelte-16byuaj")},m(t,i){c(t,n,i),r&&r.m(n,null),e=!0},p(t,[e]){t[3]?r?(r.p(t,e),L(r,1)):(r=Xo(t),r.c(),L(r,1),r.m(n,null)):r&&(R={r:0,c:[],p:R},D(r,1,1,()=>{r=null}),R.r||i(R.c),R=R.p)},i(t){e||(L(r),e=!0)},o(t){D(r),e=!1},d(t){t&&l(n),r&&r.d()}}}function Yo(t,n,e){let r="Confirmed",i=null,o=null,u=!1;const a={},c=(t,n)=>t.reduce((t,e)=>parseInt(e[n])+t,0),l=qe(".3s");return _((async function(){e(2,[o,i]=await Promise.all([Fo("https://cdn.jsdelivr.net/npm/world-atlas@2/countries-110m.json"),Bo("https://docs.google.com/spreadsheets/d/e/2PACX-1vRjixGgr6I18VAxY6Ybv26aOeBdfD-NqHU01nnjBR-rpPPs0Jhtgvmaclyo98kG4XXWKiIUyY5vbA3Q/pub?gid=3549213&single=true&output=csv")]),o,e(1,i)),e(4,a.Confirmed=l(c(i,"Confirmed")),a),e(4,a.Treatment=l(c(i,"Treatment")),a),e(4,a.Recovered=l(c(i,"Recovered")),a),e(4,a.Deaths=l(c(i,"Deaths")),a),e(3,u=!0)})),[r,i,o,u,a,t=>()=>{e(0,r=t)}]}return new class extends F{constructor(t){super(),I(this,t,Yo,Go,u,{})}}({target:document.body})}(versor);
//# sourceMappingURL=bundle.js.map
